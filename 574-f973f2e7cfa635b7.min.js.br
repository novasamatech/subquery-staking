"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="bdfdd1cb-cc56-537b-94de-f920b4260021")}catch(e){}}();
(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[574],{17076:(e,t,n)=>{n.d(t,{A9:()=>N,Ac:()=>B,Gm:()=>g,H1:()=>h,Hq:()=>L,In:()=>p,K0:()=>i,Kz:()=>k,OI:()=>b,P8:()=>A,QW:()=>F,TM:()=>M,UB:()=>D,UI:()=>v,XV:()=>w,YG:()=>c,Yh:()=>E,ar:()=>y,bp:()=>a,cV:()=>s,el:()=>u,ft:()=>U,hM:()=>f,iH:()=>o,iZ:()=>P,im:()=>_,kQ:()=>W,m6:()=>C,q6:()=>l,rS:()=>r,rs:()=>d,uN:()=>O,vc:()=>I,x$:()=>R,yd:()=>m,yk:()=>T,yq:()=>S,zr:()=>x});let i="plugin_tiles--publishedIcon--y-Ikr",l="plugin_tiles--developmentPluginDotsIcon--cg1O-",a="plugin_tiles--developmentPluginTile--FydP6",r="plugin_tiles--developmentPluginTileMetadataContainer--gfR-P",o="plugin_tiles--developmentPluginErrorName--yj1wE plugin_tiles--developmentPluginName--zbtdz text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",c="plugin_tiles--developmentPluginName--zbtdz text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",s="plugin_tiles--developmentPluginFilePath--j9l0U text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",d="plugin_tiles--developmentFolderIcon--SoGUp",u="plugin_tiles--developmentPluginTileMetadataContainer__OLD--2kyZc",m="plugin_tiles--developmentPluginWarningIcon--NBesu",_="plugin_tiles--developmentPluginIcon--Kl-2F",p="plugin_tiles--developmentPluginMetadata--GqmX3",E="plugin_tiles--iconButtonSelectedForWidget--79v2p",g="plugin_tiles--developmentPluginDropdown--KEULS",f="plugin_tiles--developmentPluginErrorModalText--PEqEP",h="plugin_tiles--developmentPluginErrorModalFooter--SISR1",v="plugin_tiles--publishedPluginMoreIcon--tQ1c9",C="plugin_tiles--spotlightPluginTile--Gglp2 plugin_tiles--_pluginTileBase--HvkF8 text--fontPos11--2LvXf text--_fontBase--QdLsd",b="plugin_tiles--spotlightPluginsListContainer--JAkwJ plugin_tiles--_container--jAD59",w="plugin_tiles--spotlightMetadataContainer--lFOPM",N="plugin_tiles--spotlightPluginTileIcon--3s1tl plugin--pluginIconBase--yAG5F",T="plugin_tiles--spotlightPluginTileIconContainer--cuocl",I="plugin_tiles--spotlightPluginTileName--6eroa text--fontPos13--xW8hS text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",y="plugin_tiles--spotlightPluginTileDescription--jc0y4 text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsisAfter2Lines--Qo-Xh ellipsis--_ellipsisAfterNLines--LzI7k",R="plugin_tiles--basePluginManagementTileContainer--WzHwT",k="plugin_tiles--basePluginManagementTileTextContainer--oFEuj",P="plugin_tiles--basePluginManageTileTitle--hLcWv plugin_tiles--_basePluginManagementTileText--rrZ4n text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",A="plugin_tiles--basePluginManagementTileFlex--4p4pV",D="plugin_tiles--basePluginManagementTileSubTitle--5CYIJ plugin_tiles--_basePluginManagementTileText--rrZ4n text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",O="plugin_tiles--basePluginManagementTileSubTitleMobile--9hKOo text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsisAfter2Lines--Qo-Xh ellipsis--_ellipsisAfterNLines--LzI7k",S="plugin_tiles--basePluginManagementTileIconContainer--d1qwn",x="plugin_tiles--basePluginManagementTileIcon--WtleX",L="plugin_tiles--basePluginManagementOptionsIcon--gddMS",M="plugin_tiles--developmentPluginTileIconContainer--DyZMP plugin_tiles--basePluginManagementTileIcon--WtleX",F="plugin_tiles--warningIcon--B8Ug7",U="plugin_tiles--codeTagIcon--35Bhn",B="plugin_tiles--worldIcon--w-2nj",W="plugin_tiles--svg16--Z1gZw"},44173:(e,t,n)=>{n.d(t,{A9:()=>U,DD:()=>g,EI:()=>f,Ec:()=>M,En:()=>v,Ew:()=>H,FS:()=>_,Kk:()=>b,Li:()=>l,PI:()=>S,Qs:()=>D,SH:()=>T,SZ:()=>p,VA:()=>O,Vt:()=>R,Zc:()=>N,Zm:()=>d,_u:()=>r,bm:()=>u,dh:()=>y,e0:()=>h,eD:()=>s,gJ:()=>A,gv:()=>F,hQ:()=>P,k1:()=>W,km:()=>B,lN:()=>x,ni:()=>w,qd:()=>i,sU:()=>a,t4:()=>k,tJ:()=>m,uX:()=>C,vE:()=>E,wZ:()=>L,xG:()=>c,xf:()=>I,yT:()=>o});let i="block_kit_row--rowContainer--blE-e",l="block_kit_row--rowContainerRevamp--yfW80",a="block_kit_row--rowTop--V9LTX",r="block_kit_row--rowBottom--MUjVt",o="block_kit_row--rowBottomStructuredView--FMX0O",c="block_kit_row--acceptButton--a8hGz",s="block_kit_row--rejectButton--KOYG6",d="block_kit_row--unreadDot--nGsUe",u="block_kit_row--unreadDotStructuredView--5etXA",m="block_kit_row--metadataContainer--VXyxj",_="block_kit_row--textContainer--k9trX",p="block_kit_row--titleAndTimestamp--jCbMC",E="block_kit_row--timestamp--5jHxO",g="block_kit_row--title--RyhFW",f="block_kit_row--usersContainer--m9QMX",h="block_kit_row--usersContainerStructuredView---DFXa",v="block_kit_row--iconInvert--ZLK5r",C="block_kit_row--secondaryUser--Zbyj5",b="block_kit_row--icon--Gau-9",w="block_kit_row--iconImg--Sw8ei",N="block_kit_row--resource--1nT--",T="block_kit_row--primaryUser--0OplU",I="block_kit_row--primaryUserRevamp--MMzIv",y="block_kit_row--secondaryUserRevamp--UuMHC",R="block_kit_row--quickReplyChevron--smu6R",k="block_kit_row--chevronIcon--RUUy2",P="block_kit_row--contentContainer--xYiON text--fontPos11--2LvXf text--_fontBase--QdLsd",A="block_kit_row--contentContainerRevamp--D0Z0z text--fontPos11--2LvXf text--_fontBase--QdLsd",D="block_kit_row--content--DjH--",O="block_kit_row--subtitle--tTR9W",S="block_kit_row--fromNow--qYB7e",x="block_kit_row--planDivider--po3BY",L="block_kit_row--notificationDescription--6aMEh ellipsis--ellipsisAfter3Lines--h405C ellipsis--_ellipsisAfterNLines--LzI7k",M="block_kit_row--notificationDescriptionStructuredView--4sKju ellipsis--ellipsisAfter3Lines--h405C ellipsis--_ellipsisAfterNLines--LzI7k",F="block_kit_row--reacjiNotificationStructuredView--TWxtz",U="block_kit_row--emojiUnicode--s9gXM",B="block_kit_row--imagePreview---NMyQ",W="block_kit_row--htmlTextBlock--w691R",H="block_kit_row--square--LWlEB"},391758:(e,t,n)=>{n.d(t,{FR:()=>E,I3:()=>v,Jz:()=>m,O9:()=>d,OL:()=>C,P2:()=>i,Pu:()=>a,Uz:()=>r,e7:()=>_,g4:()=>c,gy:()=>u,ix:()=>l,jG:()=>h,nf:()=>f,pg:()=>o,sJ:()=>g,wx:()=>s,z8:()=>p});let i="user_notifications_dropdown--dropdownContainer--FeJWw text--fontPos11--2LvXf text--_fontBase--QdLsd",l="user_notifications_dropdown--dropdownChevronContainer--SAlt4",a="user_notifications_dropdown--dropdownChevron--ZvAmn",r="user_notifications_dropdown--arrowRight--yyaYz",o="user_notifications_dropdown--dropdownContainerEmptyState--9URCY user_notifications_dropdown--dropdownContainer--FeJWw text--fontPos11--2LvXf text--_fontBase--QdLsd",c="user_notifications_dropdown--loadingContainer--gztC3",s="user_notifications_dropdown--header--VmRgJ",d="user_notifications_dropdown--orgName--hsl6y ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd",u="user_notifications_dropdown--unread---qSyA",m="user_notifications_dropdown--unreadToggleButtons--yk0xa",_="user_notifications_dropdown--unreadToggleButton--cc5Mz",p="user_notifications_dropdown--unreadToggleButtonSelected--zcCh-",E="user_notifications_dropdown--unreadToggleBar--LB14C",g="user_notifications_dropdown--dateHeader--mWn2d",f="user_notifications_dropdown--link--tPMj9 text--fontPos11--2LvXf text--_fontBase--QdLsd",h="user_notifications_dropdown--scrollContainer--eFxLZ",v="user_notifications_dropdown--scrollContainerWithPlan--D2j-0",C="user_notifications_dropdown--emptyRow--hHiSY"},687348:(e,t,n)=>{n.d(t,{JX:()=>c,P0:()=>o,S:()=>s,VM:()=>l,h_:()=>r,oQ:()=>a,tJ:()=>i});let i="figjam_plugin_detail_in_editor--metadataContainer--qQ5Hi",l="figjam_plugin_detail_in_editor--coverImageNotDraggable---pwfP",a="figjam_plugin_detail_in_editor--resourceUsageDetails--SGXXh",r="figjam_plugin_detail_in_editor--description--a03k0 text--fontPos13--xW8hS text--_fontBase--QdLsd",o="figjam_plugin_detail_in_editor--communityLinkBase--9ekc6",c="figjam_plugin_detail_in_editor--communityLinkIcon---FG3j text--fontPos11--2LvXf text--_fontBase--QdLsd",s="figjam_plugin_detail_in_editor--loadingSpinner--D-Bwn browse_resources_modal--loadingSpinner--pMJQa"},701283:(e,t,n)=>{n.d(t,{Kk:()=>o,XI:()=>u,iG:()=>i,iU:()=>s,m5:()=>c,o1:()=>d,rV:()=>r,s:()=>l,xT:()=>a});let i="notification--centeredContainer--KOKEL",l="notification--topCenterNotification---nbgh notification--notification--Q5PkV text--_negText--j9g-L _overlayBase--_overlayBase--Rkj8l",a="notification--bottomRightNotification--i1z7X notification--notification--Q5PkV text--_negText--j9g-L _overlayBase--_overlayBase--Rkj8l",r="notification--bottomRightNotificationHelpIconHidden--plZlM notification--bottomRightNotification--i1z7X notification--notification--Q5PkV text--_negText--j9g-L _overlayBase--_overlayBase--Rkj8l",o="notification--icon--ZWNx5",c="notification--iconError--aqnJU notification--icon--ZWNx5",s="notification--message--6GSx7",d="notification--actions--GUX-p",u="notification--action--v-pvn"},680897:(e,t,n)=>{n.d(t,{L:()=>s});var i=n(411855),l=n(629019),a=n.n(l),r=n(402791),o=n(579038),c=n(584284);function s({height:e="24"}){return i.createElement("div",{className:a()("in_review_badge--inReviewBadge--6j9Uu"),"data-tooltip-type":o.Ib.TEXT,"data-tooltip":(0,r.t)("community.plugins.this_resource_is_in_review_by_figma_moderators_and_will_be_available_publicly_once_approved")},i.createElement(c.Ex,{height:e},i.createElement("span",{className:a()({"in_review_badge--heightSixteen--aD6ev text--fontPos9--naThA text--_fontBase--QdLsd":"16"===e})},i.createElement(r.Tx,{id:"community.plugins.in_review"}))))}},585423:(e,t,n)=>{function i(e){return e.is_widget}function l(e){return void 0!==e.current_plugin_version_id&&!e.is_widget}function a(e){return void 0!==e.duplicate_count}n.d(t,{AS:()=>i,bT:()=>l,zj:()=>a})},102068:(e,t,n)=>{n.d(t,{NV:()=>b,OX:()=>C,Pt:()=>w,qi:()=>I,qu:()=>T,x2:()=>N});var i=n(188507);if(443==n.j)var l=n(794307);var a=n(402791),r=n(803077),o=n(142773),c=n(85863),s=n(705715),d=n(247686),u=n(21122),m=n(318726),_=n(633470),p=n(736176),E=n(323248),g=n(944725),f=n(700953),h=n(706433),v=n(372268);function C(e){let t;let n=(0,i.wA)(),l=(0,u.TA)();if(!e||l!==e.creator.id)return null;if((0,r.AC)(e))t=(0,a.t)("community.plugins.cancel_review");else if((0,p.m3)(e)){if((0,r.Pg)(e))return null;t=(0,a.t)("community.resource.delist")}else t=(0,a.t)("community.resource.unpublish");return{displayText:t,callback:()=>{n((0,s.to)({type:h.H,data:{plugin:e},showModalsBeneath:!0}))}}}function b(e,t){let n=(0,i.wA)();if(e&&!(0,g.ZQ)(e))return null;let l=e&&!e.error?t?(0,a.t)("community.plugins.publish_new_version"):(0,a.t)("community.resource.publish"):t?t.is_widget?(0,a.t)("community.plugins.edit_resource_details.widget"):(0,a.t)("community.plugins.edit_resource_details.plugin"):void 0;return l?{displayText:l,callback:()=>{n((0,c.r)({localFileId:null==e?void 0:e.localFileId,publishedPluginId:null==t?void 0:t.id,entryPoint:E.k2.EDITOR}))}}:null}function w(e,t){let n=(0,i.wA)();if(!e||!t)return null;switch(e){case g.ho.LOAD:return{action:()=>{let e=t.localFileId;n((0,o.JZ)({resourceType:(0,g.k0)(t)?"widget":"plugin",localFileIdToRemove:e}))},msg:(0,a.t)("universal_insert.missing_manifest"),buttonText:(0,a.t)("universal_insert.locate")};case g.ho.VALIDATE:case g.ho.PARSE:return{action:()=>{n((0,s.to)({type:v.K,data:{localPlugin:t}}))},msg:(0,a.t)("universal_insert.manifest_error"),buttonText:(0,a.t)("universal_insert.see_details")};default:(0,l.xb)(e)}}function N(e,t,n){let l=(0,i.wA)();return{displayText:(0,a.t)("universal_insert.manage_permissions"),callback:()=>{n&&n();let i=e&&(0,g.ZQ)(e)?e.localFileId:void 0;l((0,c.r)({localFileId:i,publishedPluginId:null==t?void 0:t.id,initialTab:f.KM.PERMISSIONS,entryPoint:E.k2.EDITOR}))}}}function T(e){let t=(0,m.M)();return e&&(0,g.ZQ)(e)?{displayText:(0,d.A)((0,_.YQ)()),callback:()=>{t&&t.openExtensionDirectory(e.localFileId)}}:null}function I(e,t){return{displayText:e?(0,a.t)("universal_insert.remove_local_version"):(0,a.t)("universal_insert.remove"),callback:t}}},356151:(e,t,n)=>{let i;n.d(t,{LP:()=>d,qQ:()=>l,qv:()=>u});var l,a=n(411855),r=n(169614),o=n(989368),c=n(884096),s=n(482402);let d="cover";var u=((i=u||{}).COMPONENT_PUBLISHING="component_publishing",i.VIDEO="video",i.PASSWORD_PROTECTION="password_protection",i.AUDIO="audio",i.UNLIMITED_PAGES="unlimited_pages",i.PROTOTYPE_ONLY_LINKS="prototype_only_links",i.OPEN_SESSIONS="open_sessions",i.UNLIMITED_PROJECTS="unlimited_projects",i.PRIVATE_PROJECTS="private_projects",i.UNLIMITED_FILES="unlimited_files",i);let m={cover:{onboardingKey:d,imgSrc:"https://static.figma.com/uploads/cade95b7d3141da5e4c22a879de339d5b57b05aa",header:a.createElement(c.E,{i18nId:"help_widget.pro_trials.stack_of_cards_widget.pro.title",fontSize:13,fontWeight:"medium"}),description:a.createElement(c.E,{i18nId:"help_widget.pro_trials.stack_of_cards_widget.pro.description",fontSize:11,color:"secondary"}),hoverTitle:null},password_protection:{onboardingKey:"password_protection",imgSrc:"https://static.figma.com/uploads/b56379c61007d4c119dc3a32fc936ac07f5d13d5",header:a.createElement(c.E,{i18nId:"help_widget.pro_trials.stack_of_cards_widget.password.title",fontSize:13,fontWeight:"medium"}),description:a.createElement(c.E,{i18nId:"help_widget.pro_trials.stack_of_cards_widget.password.description",fontSize:11,color:"secondary"}),hoverTitle:a.createElement(c.E,{i18nId:"help_widget.pro_trials.stack_of_cards_widget.password.hover_text",fontSize:12,fontWeight:"semi-bold"})},component_publishing:{onboardingKey:"component_publishing",imgSrc:"https://static.figma.com/uploads/1138b4f97bb51f61ed9b2bac008de9038dfbcf75",header:a.createElement(c.E,{i18nId:"help_widget.pro_trials.stack_of_cards_widget.library.title",fontSize:13,fontWeight:"medium"}),description:a.createElement(c.E,{i18nId:"help_widget.pro_trials.stack_of_cards_widget.library.description",fontSize:11,color:"secondary"}),hoverTitle:a.createElement(c.E,{i18nId:"help_widget.pro_trials.stack_of_cards_widget.library.hover_text",fontSize:12,fontWeight:"semi-bold"})},audio:{onboardingKey:"audio",imgSrc:"https://static.figma.com/uploads/312167c9a97cd378f0a20d09d03376b27283dae9",header:a.createElement(c.E,{i18nId:"help_widget.pro_trials.stack_of_cards_widget.audio.title",fontSize:13,fontWeight:"medium"}),description:a.createElement(c.E,{i18nId:"help_widget.pro_trials.stack_of_cards_widget.audio.description",fontSize:11,color:"secondary"}),hoverTitle:a.createElement(c.E,{i18nId:"help_widget.pro_trials.stack_of_cards_widget.audio.hover_text",fontSize:12,fontWeight:"semi-bold"})},open_sessions:{onboardingKey:"open_sessions",imgSrc:"https://static.figma.com/uploads/1ee3e88ccb237a207e896dba4a67af081259590d",header:a.createElement(c.E,{i18nId:"help_widget.pro_trials.stack_of_cards_widget.jam.title",fontSize:13,fontWeight:"medium"}),description:a.createElement(c.E,{i18nId:"help_widget.pro_trials.stack_of_cards_widget.jam.description",fontSize:11,color:"secondary"}),hoverTitle:a.createElement(c.E,{i18nId:"help_widget.pro_trials.stack_of_cards_widget.jam.hover_text",fontSize:12,fontWeight:"semi-bold"})},unlimited_pages:{onboardingKey:"unlimited_pages",imgSrc:"https://static.figma.com/uploads/cdb490f97220f8598d6b342c873569c68ac2370e",header:a.createElement(c.E,{i18nId:"help_widget.pro_trials.stack_of_cards_widget.unlimited_pages.title",fontSize:13,fontWeight:"medium"}),description:a.createElement(c.E,{i18nId:"help_widget.pro_trials.stack_of_cards_widget.unlimited_pages.description",fontSize:11,color:"secondary"}),hoverTitle:a.createElement(c.E,{i18nId:"help_widget.pro_trials.stack_of_cards_widget.unlimited_pages.hover_text",fontSize:12,fontWeight:"semi-bold"})},video:{onboardingKey:"video",imgSrc:"https://static.figma.com/uploads/0e9be58e80f8d577fc4b1028f07a903bca68c970",header:a.createElement(c.E,{i18nId:"help_widget.pro_trials.stack_of_cards_widget.video.title",fontSize:13,fontWeight:"medium"}),description:a.createElement(c.E,{i18nId:"help_widget.pro_trials.stack_of_cards_widget.video.description",fontSize:11,color:"secondary"}),hoverTitle:a.createElement(c.E,{i18nId:"help_widget.pro_trials.stack_of_cards_widget.video.hover_text",fontSize:12,fontWeight:"semi-bold"})}},_={component_publishing:"seen_pro_onboarding_component_publishing_overlay",video:"seen_pro_onboarding_video_overlay",password_protection:"seen_pro_onboarding_password_protection_overlay",audio:"seen_pro_onboarding_audio_overlay",unlimited_pages:"seen_pro_onboarding_unlimited_pages_overlay",prototype_only_links:"seen_pro_onboarding_prototype_only_links_overlay",open_sessions:"seen_pro_onboarding_open_sessions_overlay",unlimited_files:"seen_pro_onboarding_unlimited_files_overlay",unlimited_projects:"seen_pro_onboarding_unlimited_projects_overlay",private_projects:"seen_pro_onboarding_private_projects_overlay"};(e=>{e.ACTIVELY_TRIGGERED_ONBOARDING_BLOCKED_EVENT_ID="Pro Trials V3: Actively Triggered Onboarding Blocked",e.getOnboardingStepUserFlag=function(e){return _[e]},e.getOnboardingStepTrackingContext=function(e){return`Pro Trials V3 Onboarding: ${(0,o.vE)(e)}`},e.getOnboardingStepTriggerEventId=function(e){return`triggered_pro_trials_v3_${e}_onboarding`},e.trackActivelyTriggeredOnboardingStepBlocked=function(t,n){(0,r.sx)(e.ACTIVELY_TRIGGERED_ONBOARDING_BLOCKED_EVENT_ID,{blockedOnboardingFeature:n,blockingOverlayId:t})},e.getOnboardingCardsStackContentProps=function({editorType:e,isVoiceEnabled:t,isWorkshopModeEnabled:n}){let i=[d,"password_protection","component_publishing","unlimited_pages","video"];t&&i.push("audio");let l=[d,"password_protection"];return t&&l.push("audio"),n&&l.push("open_sessions"),(({[s._Y.DESIGN]:i,[s._Y.SLIDES]:i,[s._Y.SITES]:i,[s._Y.WHITEBOARD]:l})[e]||[]).map(e=>m[e])}})(l||(l={}))},378757:(e,t,n)=>{let i;n.d(t,{JG:()=>r,pw:()=>l});var l,a=((i=a||{})[i.TEXT=0]="TEXT",i[i.FILE_COMMENT=1]="FILE_COMMENT",i[i.FILE_COMMENT_REPLY=2]="FILE_COMMENT_REPLY",i[i.INVITE_FILE=3]="INVITE_FILE",i[i.INVITE_FOLDER=4]="INVITE_FOLDER",i[i.INVITE_TEAM=5]="INVITE_TEAM",i[i.AT_MENTION_INVITE=7]="AT_MENTION_INVITE",i[i.AT_MENTION=8]="AT_MENTION",i[i.TEAM_ROLE_REQUEST_APPROVED=9]="TEAM_ROLE_REQUEST_APPROVED",i[i.TEAM_ROLE_REQUEST_DENIED=10]="TEAM_ROLE_REQUEST_DENIED",i[i.TEAM_ROLE_REQUEST_CREATED=11]="TEAM_ROLE_REQUEST_CREATED",i[i.ORG_ACCOUNT_TYPE_REQUEST_CREATED=12]="ORG_ACCOUNT_TYPE_REQUEST_CREATED",i[i.ORG_ACCOUNT_TYPE_REQUEST_APPROVED=13]="ORG_ACCOUNT_TYPE_REQUEST_APPROVED",i[i.ORG_ACCOUNT_TYPE_REQUEST_DENIED=14]="ORG_ACCOUNT_TYPE_REQUEST_DENIED",i[i.HUB_FILE_DUPLICATED=15]="HUB_FILE_DUPLICATED",i[i.HUB_PLUGIN_INSTALLED=16]="HUB_PLUGIN_INSTALLED",i[i.HUB_FILE_LIKED=17]="HUB_FILE_LIKED",i[i.HUB_PLUGIN_LIKED=18]="HUB_PLUGIN_LIKED",i[i.HUB_FILE_REMIXED=19]="HUB_FILE_REMIXED",i[i.FILE_COMMENT_REACTION=20]="FILE_COMMENT_REACTION",i[i.HUB_PROFILE_FOLLOWED=21]="HUB_PROFILE_FOLLOWED",i[i.HUB_RESOURCE_PUBLISHER_ADDED=22]="HUB_RESOURCE_PUBLISHER_ADDED",i[i.HUB_RESOURCE_PUBLISHER_REMOVED=23]="HUB_RESOURCE_PUBLISHER_REMOVED",i[i.HUB_RESOURCE_COMMENT=24]="HUB_RESOURCE_COMMENT",i[i.HUB_RESOURCE_COMMENT_REPLY=25]="HUB_RESOURCE_COMMENT_REPLY",i[i.INVITE_FILE_REPO=26]="INVITE_FILE_REPO",i[i.FILE_ROLE_REQUEST_CREATED=27]="FILE_ROLE_REQUEST_CREATED",i[i.MERGE_REQUEST_REVIEWER_ADDED=28]="MERGE_REQUEST_REVIEWER_ADDED",i[i.MERGE_REQUEST_APPROVED=29]="MERGE_REQUEST_APPROVED",i[i.MERGE_REQUEST_APPROVAL_REVOKED=30]="MERGE_REQUEST_APPROVAL_REVOKED",i[i.BRANCH_MERGED=31]="BRANCH_MERGED",i[i.BRANCH_ARCHIVED=32]="BRANCH_ARCHIVED",i[i.COMMUNITY_MENTION=33]="COMMUNITY_MENTION",i[i.FILE_ROLE_REQUEST_APPROVED=34]="FILE_ROLE_REQUEST_APPROVED",i[i.MERGE_REQUEST_REVIEWER_INVITED_ADDED=35]="MERGE_REQUEST_REVIEWER_INVITED_ADDED",i[i.ORG_JOIN_REQUEST_CREATED=36]="ORG_JOIN_REQUEST_CREATED",i[i.HUB_WIDGET_LIKED=37]="HUB_WIDGET_LIKED",i[i.HUB_WIDGET_INSTALLED=38]="HUB_WIDGET_INSTALLED",i[i.MERGE_REQUEST_CHANGES_REQUESTED=39]="MERGE_REQUEST_CHANGES_REQUESTED",i[i.ORG_JOIN_REQUEST_APPROVED_TO_SHARER=40]="ORG_JOIN_REQUEST_APPROVED_TO_SHARER",i[i.HUB_PLUGIN_USED=41]="HUB_PLUGIN_USED",i[i.HUB_WIDGET_USED=42]="HUB_WIDGET_USED",i[i.PRO_ACCOUNT_TYPE_REQUEST_CREATED=43]="PRO_ACCOUNT_TYPE_REQUEST_CREATED",i[i.PRO_ACCOUNT_TYPE_REQUEST_APPROVED=44]="PRO_ACCOUNT_TYPE_REQUEST_APPROVED",i[i.PRO_ACCOUNT_TYPE_REQUEST_DENIED=45]="PRO_ACCOUNT_TYPE_REQUEST_DENIED",i[i.INVITE_TEAM_REMINDER=46]="INVITE_TEAM_REMINDER",i[i.PLUGIN_PUBLISHER_ADDED=47]="PLUGIN_PUBLISHER_ADDED",i[i.RESOURCE_SOLD=48]="RESOURCE_SOLD",i[i.INVITE_FILE_REMINDER=49]="INVITE_FILE_REMINDER",i[i.BATCHED_FILE_COMMENT=50]="BATCHED_FILE_COMMENT",i[i.FEED_POST_COMMENT=51]="FEED_POST_COMMENT",i[i.FEED_POST_AT_MENTION=52]="FEED_POST_AT_MENTION",i[i.FEED_POST_REACTION=53]="FEED_POST_REACTION",i[i.RESOURCE_PUBLISH=54]="RESOURCE_PUBLISH",i[i.FEED_COMMENT_REACTION=55]="FEED_COMMENT_REACTION",i[i.FEED_POST_DESCRIPTION_AT_MENTION=56]="FEED_POST_DESCRIPTION_AT_MENTION",i[i.BATCHED_FEED_POST=57]="BATCHED_FEED_POST",i[i.BATCHED_FEED_COMMENT_REACTION=58]="BATCHED_FEED_COMMENT_REACTION",i[i.RESOURCE_SUBSCRIPTION_PRICE_INCREASE=60]="RESOURCE_SUBSCRIPTION_PRICE_INCREASE",i[i.FEED_POLL_CLOSE=61]="FEED_POLL_CLOSE",i[i.FILE_ROLE_REQUEST_PENDING_MOVE_TO_PROJECT=63]="FILE_ROLE_REQUEST_PENDING_MOVE_TO_PROJECT",i);let r="0";(e=>{(e=>{(e.Block||(e.Block={})).ATTACHMENT_TYPES=new Set(["BodyAndThumbnailAttachment","ActionableAttachment","ClientActionableAttachment","BodyAttachment"])})(e.BlockKit||(e.BlockKit={}))})(l||(l={}))},459911:(e,t,n)=>{let i;n.d(t,{aY:()=>S,X_:()=>B,JA:()=>W,bE:()=>O});var l=n(411855),a=n(188507),r=n(794307),o=n(611464),c=n(646240),s=n(732326),d=n(1705),u=n(705715),m=n(220485),_=n(669234),p=n(801199),E=n(21122),g=n(482402),f=n(533965),h=n(633470),v=n(574512),C=n(163809),b=n(631044),w=n(959875),N=n(402791),T=n(162122),I=n(563015),y=n(884096),R=n(566046),k=n(951366),P=((i=P||{}).STOP_AUTO_RUN_FROM_USER="stop-auto-run-from-user",i.STOP_AUTO_RUN_FROM_ORG="stop-auto-run-from-org",i.CONFIRM_REPLACE="confirm-replace",i.ENABLE_AUTO_RUN="enable-auto-run",i);let A=(0,R.Ju)(function({commonShowModalArgs:e,newPluginName:t,autoRunModalType:n}){let i,o;let c=()=>{C.s.updateUserAutoRunPluginId(e.pluginID,g.xw.NONE),d(u.Lo())},s=()=>d(u.Lo()),d=(0,a.wA)(),m=(0,p.sZ)()||null,_={currentAutoRunPluginName:l.createElement(y.E,{fontWeight:"bold"},e.currentAutoRunPluginName)},E={orgName:l.createElement(y.E,null,(null==m?void 0:m.name)||""),orgPluginName:l.createElement(y.E,{fontWeight:"bold"},e.orgPluginName)},f={orgPluginName:l.createElement(y.E,{fontWeight:"bold"},e.orgPluginName),newPluginName:l.createElement(y.E,{fontWeight:"bold"},t),orgName:l.createElement(y.E,null,(null==m?void 0:m.name)||"")};switch(n){case"stop-auto-run-from-user":i=l.createElement(l.Fragment,null,l.createElement(y.E,{color:"default",fontWeight:"medium",i18nId:"dev_handoff.autorun_confirm_modal.stop_auto_run_desc",i18nParams:_}),l.createElement("div",{className:w.cx.mt16.$},l.createElement(T.Y,{direction:"horizontal",horizontalAlignItems:"end",height:"hug-contents"},l.createElement(I.$,{variant:"secondary",onClick:s},(0,N.t)("dev_handoff.autorun_confirm_modal.cancel")),l.createElement(I.$,{variant:"primary",onClick:()=>{c(),d((0,u.to)({type:A,data:{commonShowModalArgs:e,autoRunModalType:"enable-auto-run"}}))}},(0,N.t)("dev_handoff.autorun_confirm_modal.stop_auto_run")))));break;case"enable-auto-run":i=l.createElement(l.Fragment,null,l.createElement(y.E,{color:"default",fontWeight:"medium",i18nId:"dev_handoff.autorun_confirm_modal.enable_auto_run_desc",i18nParams:E}),l.createElement("div",{className:w.cx.mt16.$},l.createElement(T.Y,{direction:"horizontal",horizontalAlignItems:"end",height:"hug-contents"},l.createElement(I.$,{variant:"secondary",onClick:s},(0,N.t)("dev_handoff.autorun_confirm_modal.dont_enable")),l.createElement(I.$,{variant:"primary",onClick:()=>{C.s.updateUserAutoRunPluginId(e.pluginID,g.xw.INHERIT),d(u.Lo())}},(0,N.t)("dev_handoff.autorun_confirm_modal.enable_auto_run")))));break;case"confirm-replace":i=l.createElement(l.Fragment,null,l.createElement(y.E,{color:"default",fontWeight:"medium",i18nId:"dev_handoff.autorun_confirm_modal.confirm_replace",i18nParams:f}),l.createElement("div",{className:w.cx.mt16.$},l.createElement(T.Y,{direction:"horizontal",horizontalAlignItems:"end",height:"hug-contents"},l.createElement(I.$,{variant:"secondary",onClick:s},(0,N.t)("dev_handoff.autorun_confirm_modal.cancel")),l.createElement(I.$,{variant:"primary",onClick:()=>{C.s.updateUserAutoRunPluginId(e.pluginID,g.xw.OVERRIDE),d(u.Lo())}},(0,N.t)("dev_handoff.autorun_confirm_modal.replace")))));break;case"stop-auto-run-from-org":i=l.createElement(l.Fragment,null,l.createElement(y.E,{color:"default",fontWeight:"medium",i18nId:"dev_handoff.autorun_confirm_modal.stop_auto_run_from_org",i18nParams:E}),l.createElement("div",{className:w.cx.mt16.$},l.createElement(T.Y,{direction:"horizontal",horizontalAlignItems:"end",height:"hug-contents"},l.createElement(I.$,{variant:"secondary",onClick:s},(0,N.t)("dev_handoff.autorun_confirm_modal.cancel")),l.createElement(I.$,{variant:"primary",onClick:c},(0,N.t)("dev_handoff.autorun_confirm_modal.stop_auto_run")))));break;default:(0,r.xb)(n)}switch(n){case"stop-auto-run-from-user":case"stop-auto-run-from-org":o=(0,N.t)("dev_handoff.autorun_confirm_modal.title_stop_auto_run");break;case"confirm-replace":o=(0,N.t)("dev_handoff.autorun_confirm_modal.title_replace_auto_run");break;case"enable-auto-run":o=(0,N.t)("dev_handoff.autorun_confirm_modal.title_enable_auto_run",{pluginName:e.orgPluginName});break;default:(0,r.xb)(n)}return l.createElement(k.XV,{title:o,onClose:()=>d(u.Lo()),maxWidth:360},l.createElement("div",{className:w.cx.p16.$,"data-testid":"autorun-confirm-modal"},i))},"AutoRunConfirmModal");var D=n(417446);function O(e){var t;let n=(null==e?void 0:e.plugin_id)??"",i=(null==e?void 0:e.name)??"",s=x(),d=M(),m=(null==(t=s.plugin)?void 0:t.plugin_id)===n,_=(0,c.Xr)(D.Lx),p=L(),E=(0,a.wA)();return{isPluginSetToAutoRun:m,callback:l.useCallback(()=>{var e,t,l,a,c;if(_(!0),!(0,o.kc)().dev_mode_auto_run_plugin||!s.loaded||!d.loaded)return;let m=null==(e=p.autoRunPrefs)?void 0:e.autoRunPluginBehavior,f={pluginID:n,orgPluginName:(null==(l=null==(t=d.autoRunPrefs)?void 0:t.autoRunPlugin.currentPluginVersion)?void 0:l.name)||"",currentAutoRunPluginName:(null==(a=s.plugin)?void 0:a.name)||""};switch(m){case void 0:case g.xw.NONE:C.s.updateUserAutoRunPluginId(n,g.xw.OVERRIDE);break;case g.xw.OVERRIDE:n!==(null==(c=s.plugin)?void 0:c.plugin_id)?C.s.updateUserAutoRunPluginId(n,g.xw.OVERRIDE):d.autoRunPrefs?E((0,u.to)({type:A,data:{commonShowModalArgs:f,autoRunModalType:P.STOP_AUTO_RUN_FROM_USER}})):C.s.updateUserAutoRunPluginId(n,g.xw.NONE);break;case g.xw.INHERIT:d.autoRunPrefs?n!==d.autoRunPrefs.autoRunPluginId?E((0,u.to)({type:A,data:{commonShowModalArgs:f,newPluginName:i,autoRunModalType:P.CONFIRM_REPLACE}})):E((0,u.to)({type:A,data:{commonShowModalArgs:f,autoRunModalType:P.STOP_AUTO_RUN_FROM_ORG}})):C.s.updateUserAutoRunPluginId(n,g.xw.OVERRIDE);break;default:(0,r.xb)(m)}},[s,p.autoRunPrefs,E,d,n,i,_])}}function S(e){return e&&(0,h.UH)(e)}function x(){var e,t,n,i;let l=L(),a=M(),r=null==(e=(0,p.sZ)())?void 0:e.id,c=null==(t=(0,E.iZ)())?void 0:t.id;if(!(0,o.kc)().dev_mode_auto_run_plugin)return{loaded:!0,plugin:null};if(!(l.loaded&&a.loaded))return{loaded:!1,plugin:null};let s=null;switch(null==(n=l.autoRunPrefs)?void 0:n.autoRunPluginBehavior){case g.xw.NONE:s=null;break;case g.xw.OVERRIDE:s=l.autoRunPrefs.autoRunPlugin;break;case g.xw.INHERIT:default:s=(null==(i=a.autoRunPrefs)?void 0:i.autoRunPlugin)??null}let d=s?(0,m.mf)(s,r??"",c??"",null)??null:null;return{loaded:!0,plugin:S(d)?d:null}}function L(){let e=(0,E.iZ)();return F((0,d.Rs)(f.Sc8,{targetOrgId:null,targetUserId:(null==e?void 0:e.id)??""},{enabled:!!(null==e?void 0:e.id)}))}function M(e){let t=(0,p.sZ)(),n=!!(t&&t.bigma_enabled),i=(0,d.Rs)(f.Sc8,{targetOrgId:(null==t?void 0:t.id)??"",targetUserId:null},{enabled:n});return n?F(i,e):{loaded:!0,autoRunPrefs:null}}function F(e,t){if("loaded"!==e.status)return{loaded:!1,autoRunPrefs:null};let n=e.data.pluginPreferences,i=!!(t||(null==n?void 0:n.autoRunEnabled));return n&&n.autoRunPluginId&&n.autoRunPlugin&&i?{loaded:!0,autoRunPrefs:{autoRunPluginId:n.autoRunPluginId,autoRunPluginBehavior:n.autoRunBehavior,autoRunPlugin:n.autoRunPlugin}}:{loaded:!0,autoRunPrefs:null}}async function U(e,t,n){(0,o.kc)().dev_mode_auto_run_plugin&&(n(!0),await v.R.instance.enqueue({runPluginArgs:{plugin:e,command:"",queryMode:!1,runMode:"default",triggeredFrom:"auto-run",openFileKey:t,isWidget:!1,ignoreForRunLastPlugin:!0},mode:"run-forever"}))}function B(){let e=(0,b.ks)(),t=(0,_.tS)(),n=(0,m.YN)(),i=x(),[l,a]=(0,s.fp)(D.Lx);if(!e||l||!i.loaded)return;let r=i.plugin;if(!r){a(!0);return}S(r)&&t&&n(r)&&U(r,t,a)}function W(){var e;let t=M(!0),n=(0,p.dq)();if(!(0,o.kc)().dev_mode_auto_run_plugin)return{loaded:!0,plugin:null};if(!t.loaded)return{loaded:!1,plugin:null};let i=(null==(e=t.autoRunPrefs)?void 0:e.autoRunPlugin)??null,l=i?(0,m.mf)(i,n??"",null,null)??null:null;return{loaded:!0,plugin:S(l)?l:null}}},163809:(e,t,n)=>{n.d(t,{s:()=>a});var i=n(245103),l=n(656927);let a=new class{updateOrgPreferences(e,t){let{preferences:n,...i}=t,a={preferences:n};return e.bigma_enabled?(a.auto_run_plugin_id=i.auto_run_plugin_id,a.auto_run_enabled=i.auto_run_enabled,a.codegen_enabled=i.codegen_enabled,a.pinned_plugins_enabled=i.pinned_plugins_enabled):!1===i.pinned_plugins_enabled&&(a.pinned_plugins_enabled=!1),l.Ay.post(`/api/plugin_preferences/org/${e.id}`,a)}updateUserAutoRunPluginId(e,t){return l.Ay.put("/api/plugin_preferences/user",i.td.toAPIParameters({autoRunBehavior:t,autoRunPluginId:e}))}}},87103:(e,t,n)=>{n.d(t,{d:()=>O});var i=n(411855),l=n(188507),a=n(1705),r=n(159849),o=n(672002),c=n(548891),s=n(467066),d=n(402791),u=n(43594),m=n(563015),_=n(945158),p=n(878515),E=n(900721),g=n(61415),f=n(501058),h=n(21122),v=n(533965),C=n(477827),b=n(753991),w=n(898065),N=n(749551),T=n(430172),I=n(581332),y=n(646086),R=n(977070),k=n(453695),P=n(757207);let A="quick_reply_thread_view--headerButton--wmkPJ",D=new class{get file(){throw Error("Data should not be accessed directly from quick replies, we need to create standard API for comments to use this view. see: file_comments_api.tsx")}get fileFollower(){throw Error("Data should not be accessed directly from quick replies, we need to create standard API for comments to use this view. see: file_comments_api.tsx")}get comments(){throw Error("Data should not be accessed directly from quick replies, we need to create standard API for comments to use this view. see: file_comments_api.tsx")}},O=(0,i.forwardRef)((e,t)=>{let n=(0,a.Rs)(v.Uhm,{fileKey:e.quickReplyInfo.fileKey,rootId:e.quickReplyInfo.threadId});return i.createElement("div",{className:"quick_reply_thread_view--container--WPlnN",ref:t},i.createElement("div",{className:"quick_reply_thread_view--column--UrAD4"},i.createElement("div",{className:"quick_reply_thread_view--header--BHlje"},i.createElement("div",{className:A},!e.hideOverflowMenu&&i.createElement(m.$,{icon:e.closeIcon,variant:"text",onClick:e.onClose})),i.createElement("div",{className:"quick_reply_thread_view--fileName--S2twU"},"loaded"===n.status&&n.data.file&&n.data.file.name),i.createElement("div",{className:A},e.hideOverflowMenu?i.createElement(m.$,{icon:e.closeIcon,variant:"text",onClick:e.onClose}):i.createElement(m.$,{icon:"dots-32",variant:"text"}))),i.createElement(S,{quickReplyInfo:e.quickReplyInfo,result:n,hideOverflowMenu:e.hideOverflowMenu})))});function S(e){let t=(0,h.iZ)();return t?"loading"===e.result.status||"disabled"===e.result.status?i.createElement(c.qc,{size:"medium"}):"errors"===e.result.status||null==e.result.data.file?i.createElement("div",null,(0,d.t)("quick_reply.unable_to_load_thread")):i.createElement(x,{quickReplyInfo:e.quickReplyInfo,result:e.result,user:t,hideOverflowMenu:e.hideOverflowMenu}):null}function x(e){var t,n,a,r,o,c;let{quickReplyInfo:s,result:u,user:_}=e,{fileKey:g,threadId:h}=s,v=(0,E.dr)({args:{fileKey:g,rootId:h},subscription:u}),{file:b}=u.data,w=(0,i.useMemo)(()=>{var e,t,n,i;return(0,C.mp)({currentOrgId:null==(e=b.org)?void 0:e.id,teamId:null==(t=b.team)?void 0:t.id,fileKey:g,isOrgGuest:(null==(i=null==(n=b.org)?void 0:n.currentOrgUser)?void 0:i.permission)==="guest",users:[]})},[null==(t=b.org)?void 0:t.id,null==(n=b.team)?void 0:n.id,g,null==(r=null==(a=b.org)?void 0:a.currentOrgUser)?void 0:r.permission]),{mobileCommentThread:N}=b,T=N.find(e=>e.id===h),I=(0,l.d4)(e=>e.comments.savingCommentUuids),y=(0,l.d4)(e=>e.comments.lgPendingUuidToServerIdMap);if(!T)return i.createElement("div",null,(0,d.t)("quick_reply.unable_to_load_thread"));let R=N.map(e=>(0,f.G9)(_.id,T,e,f.gj,I,y,e.attachments)),k={api:v,status:u.status,data:D,threads:{status:u.status,data:[{id:T.id,key:g,anchored:!1,canvasPosition:null,selectionAnchorCanvasPosition:null,comments:R,messageMeta:R[0].message_meta,page:(null==(o=T.clientMeta)?void 0:o.pageId)||null,isActive:!0,replyCount:N.length-1,isCanvasMention:!1,pageName:(null==(c=T.clientMeta)?void 0:c.pageId)||null,sidebarItemType:"comment-thread"}],errors:u.errors},errors:u.errors,isResolvedLoaded:!0,isUnresolvedLoaded:!0};return i.createElement(p.j9.Provider,{value:k},i.createElement("div",{className:"quick_reply_thread_view--preview--I47Ds"},i.createElement("img",{src:T.thumbnailUrl||void 0,className:"quick_reply_thread_view--previewImage--gSK-n",alt:"thumbnail"}),i.createElement("a",{href:s.deeplink??`/file/${g}?fuid=${_.id}&#${h}`,className:"quick_reply_thread_view--openFileButton--RBtVz"},i.createElement(m.$,{variant:"text",icon:"new-window-32"}))),i.createElement(M,{loadedComments:R,user:_,quickReplyInfo:s,commentMentionables:w,hideOverflowMenu:e.hideOverflowMenu}))}function L(){let e=(0,l.wA)(),t=(0,l.d4)(e=>e.dropdownShown||null),n=(0,h.iZ)(),a=(0,w.v)();if(!t||t.type!==g.VJ)return null;let{comment:r,parentRect:o,thread:c,isUnread:s}=t.data;return i.createElement(I.V,{dispatch:e,comment:r,parentRect:o,currentUser:n,isUnread:s,thread:c,copyLink:a})}function M(e){let{loadedComments:t,user:n,quickReplyInfo:a,commentMentionables:c,hideOverflowMenu:m}=e,{fileKey:E,threadId:g}=a,f=(0,l.wA)();(0,i.useEffect)(()=>{f(_.Fm({threadId:g}))},[f,g]);let h=(0,l.d4)(e=>e.comments.typeahead),v=(0,l.d4)(e=>e.comments.editingComment),C=(0,l.d4)(e=>e.dropdownShown||null),w=(0,l.d4)(e=>{var t;return null==(t=e.comments.activeThread)?void 0:t.id}),A=(0,l.d4)(e=>e.comments.threads),D=w&&A[w]||null,O=(null==D?void 0:D.reply.messageMeta)||[],{submitReply:S,updateMessage:x,submitEdit:M}=function(e){var t;let n=(0,l.wA)(),a=(0,p.I_)().writeAPI,r=null==(t=(0,p._9)())?void 0:t.threads;return{submitReply:i.useCallback(e=>{if(!a){console.error("Calling submitReply with no write API");return}r&&"loaded"===r.status&&r.data.find(t=>t.id===e.threadId)&&(e.onCommentValidationFailure=(t,i,l,r)=>_.dB(a,n,t,i,l,r,e.uuid,k.y),n(_.lV({...e,commentsWriteApi:a,commentsConfiguration:k.y})))},[n,r,a]),updateMessage:i.useCallback(t=>{n(_.k7({threadId:e,messageMeta:t}))},[n,e]),submitEdit:i.useCallback((e,t)=>{n(_._v({comment:e,messageMeta:t}))},[n])}}(g),F=(0,T._B)(),U=i.useRef(null),B=i.useRef(null),W=i.useRef(null),[H,V]=i.useState(null),[G,j]=i.useState(i.useRef(null)),z=i.useRef(null),$=0,Y=0,q=0;z.current&&z.current.offsetParent&&($=z.current.offsetWidth,Y=z.current.offsetLeft,q=z.current.offsetParent.clientHeight-z.current.offsetTop);let Q=e=>e||{x:0,y:0},Z=i.useRef(null);(0,i.useEffect)(()=>{Z.current&&Z.current.scrollToBottom()},[]);let K=[...new Set(t.map(e=>e.user.handle))],X=t.find(e=>e.id===g);return X?i.createElement(i.Fragment,null,i.createElement("div",{style:u.sx.flex1.$}),i.createElement(s.P,{className:"quick_reply_thread_view--bottomAnchoredScrollContainer--5-F87",useBottomPinning:!0,ref:Z,enableScrollShadow:!0},i.createElement("div",{className:"quick_reply_thread_view--reverseColumn--ur8Yx"},t.slice().reverse().map((e,l)=>i.createElement(I.I,{editorRef:W,key:`thread-comment-${e.id}`,dispatch:f,user:n,thread:{comments:t,key:E,id:g},setHyperlinkLocation:V,hyperlinkLocation:H,setHyperlinkEditorRef:j,comment:e,typeahead:h,mentionables:c,prevAuthor:0===l?null:t[l-1].user_id,index:l,editingComment:v,submitEdit:M,dropdownShown:C,viewportPositionFromClientPosition:Q,editorOnInsert:F.editorOnInsert,editorOnClear:F.editorOnClear,threadPosition:{x:0,y:0},setIsEditorFocused:r.lQ,showEditedIndicator:!!e.edited_at,hideOverflowMenu:m,hideReactions:!1,hideEmojiPicker:!1,allowAttachments:!1,hideResolve:!1,setResolved:r.lQ,mountInputFocused:!0,editorType:"comment-editor-thread"})))),i.createElement(y.K,{editorRef:B,dispatch:f,user:n,typeahead:h,mentionables:c,threadPosition:null,messageMeta:O,submitText:(0,d.t)("comments.reply"),placeholderText:(0,d.t)("comments.reply"),setHyperlinkLocation:V,hyperlinkLocation:H,setHyperlinkEditorRef:j,onCancel:r.lQ,onSubmit:()=>{S({threadId:g,threadUuid:X.uuid||void 0,uuid:(0,o.g)()})},onComposeFocus:void 0,editorOnInsert:F.editorOnClear,editorOnClear:F.editorOnInsert,viewportPositionFromClientPosition:Q,isDisabled:!1,mountInputFocused:!0,updateMessage:x,setIsEditorFocused:r.lQ,isEmojiPickerDisabled:null!==v,hideEmojiPicker:!1,allowAttachments:!1,recordingKey:b.Dw.quickReply,className:P.MJ,threadId:g,fileKey:E,editingExistingComment:!1,editorType:"comment-editor-reply",authorNames:K,replyContainerRef:z}),i.createElement(N.rf,{decoratorsRef:U,onClear:F.onClear,onInsert:F.onInsert,width:$,direction:R.ri.UPWARDS,positionFromBottom:{left:Y,bottom:q}}),i.createElement(L,null)):null}},684136:(e,t,n)=>{n.d(t,{Pq:()=>eo,jZ:()=>es,ke:()=>l,kt:()=>er,sp:()=>r,tY:()=>a});var i,l,a,r,o=n(411855),c=n(109388),s=n(188507),d=n(629019),u=n.n(d);n(169614);var m=n(344298),_=n(931538),p=n(218017),E=n(480201),g=n(304913),f=n(904779),h=n(487644),v=n(995225),C=n(329378),b=n(402791),w=n(680897),N=n(803077),T=n(142773),I=n(983245),y=n(705715),R=n(452555),k=n(165077),P=n(220485),A=n(113420),D=n(318726),O=n(633470),S=n(736176),x=n(579038),L=n(673327),M=n(757358),F=n(905618),U=n(455399),B=n(132708),W=n(541983),H=n(819076),V=n(715913),G=n(196625),j=n(114241),z=n(17076),$=n(769533),Y=n(362679),q=n(13556),Q=n(665150),Z=n(961803),K=n(331536),X=n(12747),J=n(237494),ee=n(215877),et=n(551034),en=n(132623),ei=n(247866),el=n(583288);function ea(e){switch(e){case"plugins-menu-dev-create-new":return(0,b.t)("fullscreen.plugins_menu.new_plugin");case"widgets-menu-dev-create-new":return(0,b.t)("fullscreen.plugins_menu.new_widget");case"widgets-menu-dev-import-from-manifest":return(0,b.t)("fullscreen.plugins_menu.import_widget_from_manifest");case"plugins-menu-dev-import-from-manifest":return(0,b.t)("fullscreen.plugins_menu.import_plugin_from_manifest");case"plugins-menu-open-directory-mac":return(0,b.t)("fullscreen.plugins_menu.open_directory_mac");case"plugins-menu-open-directory-win":return(0,b.t)("fullscreen.plugins_menu.open_directory_win");case"plugins-menu-open-directory-vscode":return(0,b.t)("fullscreen.plugins_menu.open_directory_vscode");default:return""}}let er="CREATE_PLUGIN_DROPDOWN";function eo(e){var t;let n=(0,s.wA)(),i=(0,s.d4)(e=>e.dropdownShown),l=e.resourceType===S.bD.WIDGET;return(null==(t=null==i?void 0:i.data)?void 0:t.targetRect)?o.createElement(M.Cf,{minWidth:163,targetRect:null==i?void 0:i.data.targetRect,lean:e.lean,propagateCloseClick:!0},o.createElement(E.W.Option,{onClick:t=>{t.stopPropagation(),n(R.KE()),n(y.to({type:V.h,data:{resourceType:e.resourceType||S.bD.PLUGIN}}))}},ea(l?"widgets-menu-dev-create-new":"plugins-menu-dev-create-new")),o.createElement(E.W.Option,{onClick:e=>{e.stopPropagation(),n(T.JZ({resourceType:l?"widget":"plugin"}))}},ea(l?"widgets-menu-dev-import-from-manifest":"plugins-menu-dev-import-from-manifest"))):null}let ec=class extends o.PureComponent{constructor(){super(...arguments),this.state={isMouseOver:!1,shouldShowErrorModal:!1},this.isWidget=!!(null==(i=this.props.plugin.manifest)?void 0:i.containsWidget),this.onPublish=()=>{this.props.onPublishClick&&this.props.onPublishClick(this.props.plugin.localFileId)},this.onDelete=()=>{this.props.dispatch(T.qR(this.props.plugin.localFileId))},this.onClick=()=>{this.props.onTileClick?this.props.onTileClick():this.onRevealLocally()},this.onRevealLocally=()=>{(0,D.M)().openExtensionDirectory(this.props.plugin.localFileId)},this.showError=()=>{this.setState({shouldShowErrorModal:!0})},this.hideError=()=>{this.setState({shouldShowErrorModal:!1})},this.tileDropdownType=this.isWidget?ec.DEVELOPMENT_PLUGIN_DROPDOWN:ec.DEVELOPMENT_WIDGET_DROPDOWN,this.onContextMenu=e=>{this.props.dispatch(I.j7({type:this.tileDropdownType,data:{type:"context",localFileId:this.props.plugin.localFileId,clientX:e.clientX,clientY:e.clientY}}))},this.shouldShowContextMenu=()=>this.props.dropdownShown&&this.props.dropdownShown.type===this.tileDropdownType&&this.props.dropdownShown.data.localFileId===this.props.plugin.localFileId&&"context"===this.props.dropdownShown.data.type,this.shouldShowPointingDropdown=()=>null!=this.props.dropdownShown&&this.props.dropdownShown.type===this.tileDropdownType&&this.props.dropdownShown.data.localFileId===this.props.plugin.localFileId&&"pointing"===this.props.dropdownShown.data.type,this.onDotsClick=()=>{this.props.dispatch(I.j7({type:this.tileDropdownType,data:{type:"pointing",localFileId:this.props.plugin.localFileId}}))},this.dotsIconRef=e=>{this.dotsIconEl=c.findDOMNode(e)},this.onMouseEnter=()=>{this.setState({isMouseOver:!0})},this.onMouseLeave=()=>{this.setState({isMouseOver:!1})}}render(){let e=o.createElement(o.Fragment,null,o.createElement(E.W.Option,{onClick:this.onPublish},o.createElement(b.Tx,{id:"community.plugins.publish_new_version"})),o.createElement(E.W.Option,{onClick:this.onRevealLocally},ea((0,O.YQ)())),o.createElement(E.W.Separator,null),o.createElement(E.W.Option,{onClick:this.onDelete},o.createElement(b.Tx,{id:"community.permissions_modal_publish_tab.footer.remove"}))),{name:t,error:n}=this.props.plugin,i=this.isWidget?(0,b.t)("community.plugins.widget"):(0,b.t)("community.plugins.plugin");return o.createElement("div",{className:z.bp},o.createElement("div",{className:n?z.rS:z.el,onClick:n?this.showError:this.onClick,onContextMenu:this.onContextMenu,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},n?o.createElement("div",{className:z.yd},o.createElement(v.t,{svg:ei.A})):this.isWidget?o.createElement("div",{className:z.im},this.props.isPublished?o.createElement("img",{className:z.K0,src:`/community/icon?resource_type=widget&resource_id=${this.props.plugin.plugin_id}`,alt:""}):o.createElement(v.t,{svg:Z.A})):o.createElement("div",{className:z.im},o.createElement(v.t,{svg:ee.A,fallbackSvg:et.A})),o.createElement("div",{className:z.In},o.createElement("div",{className:n?z.iH:z.YG},t,this.props.isPublished?o.createElement(v.t,{svg:Q.A}):null),n&&this.state.isMouseOver?o.createElement(C.o,{className:z.cV,text:"Error: "+n.text}):o.createElement(f.R,{className:z.cV,text:this.props.plugin.localFilePath.replace("/manifest.json","")})),n&&o.createElement(h.B,{className:z.rs,svg:m.Ay.mac?K.A:X.A})),o.createElement(U.YW,{svg:Y.A,fallbackSvg:q.A,className:u()(z.q6,this.shouldShowPointingDropdown()?z.Yh:""),onClick:this.onDotsClick,ref:this.dotsIconRef,"data-tooltip-type":x.Ib.TEXT,"data-tooltip":(0,b.t)("community.plugins.options"),selected:this.shouldShowPointingDropdown()}),this.shouldShowContextMenu()&&o.createElement(E.W.Dropdown,{className:z.Gm,style:{left:this.props.dropdownShown.data.clientX,top:this.props.dropdownShown.data.clientY}},e),this.shouldShowPointingDropdown()&&o.createElement(M.Cf,{className:z.Gm,minWidth:122,targetRect:this.dotsIconEl.getBoundingClientRect(),propagateCloseClick:!0},e),this.state.shouldShowErrorModal&&o.createElement(F.aF,{size:"small",title:(0,b.t)("community.plugins.plugin_or_widget_issue",{resourceType:i})},o.createElement(p.s_,{...this.props}),o.createElement("div",{className:z.hM},this.props.plugin.error?this.props.plugin.error.text:null==n?void 0:n.text),o.createElement("div",{className:z.H1},o.createElement(g.$$,{onClick:this.hideError},o.createElement(b.Tx,{id:"general.done"})))))}},es=ec;function ed(e){return o.createElement("div",{className:e.containerClassName||z.x$,onContextMenu:e.onOptionsClick,onClick:e.onClick||(e=>e.preventDefault())},o.createElement(j.li.IconAndBadgeContainer,{className:z.yq},o.createElement("div",{className:z.zr},e.pluginIcon),e.showEditorTypeIcon&&o.createElement(j.li.BadgeContainer,null,o.createElement(j.dn,{editorType:e.editorType,is16x16:!0}))),o.createElement("div",{className:z.Kz},o.createElement("div",{className:z.P8},o.createElement("div",{className:z.iZ},e.title),e.titleSuffix),o.createElement("div",{className:m.rr?z.uN:z.UB},"string"==typeof e.subTitle?(0,_.$J)(e.subTitle):e.subTitle)),o.createElement("div",{className:z.Hq},o.createElement(U.YW,{ref:e.optionsIconRef,svg:Y.A,fallbackSvg:q.A,className:z.UI,onClick:e.onOptionsClick,selected:e.isSelected,"data-tooltip-type":x.Ib.TEXT,"data-tooltip":(0,b.t)("community.plugins.options"),disabled:e.disabled})))}es.DEVELOPMENT_PLUGIN_DROPDOWN="DEVELOPMENT_PLUGIN_DROPDOWN",es.DEVELOPMENT_WIDGET_DROPDOWN="DEVELOPMENT_WIDGET_DROPDOWN",(l||(l={})).Tile=function(e){let t=(0,A.U)(),n=(null==t?void 0:t.type)===H.lD&&t.data.localFileId===e.plugin.localFileId,i=(0,s.wA)(),l=o.useRef(null);return o.createElement(o.Fragment,null,o.createElement(ed,{pluginIcon:o.createElement("div",{className:z.TM},e.plugin.error?o.createElement(h.B,{className:z.QW,svg:el.A}):o.createElement(v.t,{className:z.ft,svg:$.A})),editorType:e.plugin.manifest.editorType||[],showEditorTypeIcon:e.showEditorTypeIcon,onOptionsClick:t=>{if(t.stopPropagation(),n){i(I.oB());return}let a=l.current;i(I.j7({type:H.lD,data:{localFileId:e.plugin.localFileId,targetRect:a.getBoundingClientRect()}}))},optionsIconRef:l,isSelected:n,title:e.plugin.name,subTitle:o.createElement(B.A,{localResource:e.plugin,publishedResource:void 0}),disabled:!1,containerClassName:e.containerClassName,onClick:e.onClick}),n&&o.createElement(H.T9,{localResource:e.plugin}))},(e=>{function t(e){var t;if((0,N.AC)(e))return o.createElement(w.L,{height:"16"});if((0,O.Rt)(e)){let n=null==(t=e.roles.org)?void 0:t.name;return o.createElement(h.B,{svg:J.A,className:z.kQ,"data-tooltip-type":x.Ib.TEXT,"data-tooltip":n?(0,b.t)("community.plugins.private_for_plugin_org_name",{orgName:n}):(0,b.t)("community.plugins.private_for_plugin_org")})}if(e.roles.is_public)return o.createElement(h.B,{className:z.Ac,svg:en.A,"data-tooltip-type":x.Ib.TEXT,"data-tooltip":(0,b.t)("community.plugins.published_to_community")})}e.Tile=function(e){let n=(0,A.U)(),i=(null==n?void 0:n.type)===H.lD&&n.data.pluginId===e.plugin.id&&n.data.targetRect,l=(0,s.wA)(),a=o.useRef(null),r=(0,O.uF)(e.plugin),c=(0,P.WK)(e.plugin.id),d=o.useCallback(()=>t(e.plugin),[e.plugin])();return o.createElement(o.Fragment,null,o.createElement(ed,{containerClassName:e.containerClassName,onClick:e.onClick,pluginIcon:o.createElement(L.V,{plugin:r}),editorType:r.manifest.editorType||[],showEditorTypeIcon:!0,onOptionsClick:()=>{if(i){l(I.oB());return}let t=a.current;l(I.j7({type:H.lD,data:{pluginId:e.plugin.id,targetRect:t.getBoundingClientRect()}}))},optionsIconRef:a,disabled:!!e.plugin.unpublished_at,isSelected:i,title:r.name,titleSuffix:d,subTitle:o.createElement(B.A,{localResource:c,publishedResource:e.plugin})}),i&&o.createElement(H.T9,{publishedResource:e.plugin,viewResource:()=>{l(I.$T({view:"communityHub",subView:"plugin",publishedPluginId:e.plugin.id})),l(y.Ce())}}))},e.PluginManagementTitleBadge=t})(a||(a={})),(r||(r={})).Tile=function(e){let t=(0,O.uF)(e.plugin);return o.createElement("div",{className:e.containerClassName??z.x$},o.createElement(j.li.IconAndBadgeContainer,{className:z.yq},o.createElement("div",{className:z.zr},o.createElement(L.V,{plugin:t})),o.createElement(j.li.BadgeContainer,null,o.createElement(j.dn,{editorType:t.manifest.editorType,is16x16:!0}))),o.createElement("div",{className:z.Kz},o.createElement(W.PE,{resource:e.plugin})))},(0,k.tf)(function({plugin:e,className:t,onClick:n}){let i=(0,O.uF)(e),l=(0,s.wA)();return o.createElement("a",{className:t||z.m6,"data-plugin-id":e.id,key:e.id,onClick:t=>{t.metaKey||(t.preventDefault(),null==n||n(),l(I.$T({view:"communityHub",subView:"plugin",publishedPluginId:e.id})))},href:(0,G.ho)(e.id)},o.createElement(j.li.IconAndBadgeContainer,{className:z.yk},o.createElement("div",{className:z.A9},o.createElement(L.V,{plugin:i})),o.createElement(j.li.BadgeContainer,null,o.createElement(j.dn,{editorType:i.manifest.editorType,is16x16:!0}))),o.createElement("div",{className:z.XV},o.createElement("div",{className:z.vc},i.name),o.createElement("div",{className:z.ar},(0,N.G8)(i,_.$J))))})},465241:(e,t,n)=>{let i;n.d(t,{R:()=>X});var l=n(411855),a=n(188507),r=n(169614),o=n(483791),c=n(432681),s=n(155811),d=n(42821),u=n(218017),m=n(304913),_=n(548891),p=n(467066),E=n(402791),g=n(77032),f=n(142773),h=n(988533),v=n(64226),C=n(914286),b=n(85863),w=n(251002),N=n(705715),T=n(933812),I=n(86498),y=n(220485),R=n(596263),k=n(21122),P=n(316178),A=n(825813),D=n(495695),O=n(736176),S=n(323248),x=n(404968),L=n(566046),M=n(905618),F=n(846817),U=n(743171),B=n(684136),W=n(178304),H=n(227565);let V=(0,F.rw)();function G(e){let[t,n]=l.useState();return l.useEffect(()=>{(0,s.oU)(location.href).then(e=>n(e))},[]),l.createElement("div",{className:H.bx},l.createElement("div",{className:H.Uz},e.tab===U.gr.PLUGINS?(0,E.t)("community.universal_posting_modal.desktop_callout.plugins"):(0,E.t)("community.universal_posting_modal.desktop_callout.widgets")),l.createElement(m.N_,{onClick:()=>{(0,r.sx)(t?"community_publish_open_desktop_clicked":"community_publish_get_desktop_clicked",{resourceType:e.tab===U.gr.PLUGINS?O.bD.PLUGIN:O.bD.WIDGET}),t&&(0,s.Sr)(location.href)},href:t?void 0:"https://www.figma.com/downloads/",className:H.nf,target:"_blank",trusted:!0},void 0===t?"":t?` ${(0,E.t)("community.universal_posting_modal.desktop_open")}`:` ${(0,E.t)("community.universal_posting_modal.desktop_get")}`))}function j(e){return e.selectedTab===U.gr.FILES?l.createElement(U.fV,{activeFileKey:e.activeFileKey,setActiveFile:e.setActiveFile,deselectActiveFile:e.deselectActiveFile,filterFn:e.filterFn}):e.selectedTab===U.gr.PLUGINS?l.createElement($,{activeResource:e.activeResource,setActiveResource:e.setActiveResource,deselectActiveResource:e.deselectActiveResource}):l.createElement(z,{activeResource:e.activeResource,setActiveResource:e.setActiveResource,deselectActiveResource:e.deselectActiveResource})}function z(e){let{invitedWidgets:t,pendingReviewWidgets:n,approvedWidgets:i,developmentWidgets:a}=(0,y.E$)(),r=t=>!!e.activeResource&&("localFileId"in e.activeResource&&"localFileId"in t?e.activeResource.localFileId===t.localFileId:"id"in e.activeResource&&"id"in t?e.activeResource.id===t.id:void 0);return d.eD?t.length+n.length+i.length+a.length===0?l.createElement(U.n6,{tab:U.gr.WIDGETS}):l.createElement("div",{className:H.BA,onClick:e.deselectActiveResource,role:"presentation"},t.map(e=>l.createElement(B.sp.Tile,{key:e.id,plugin:e,containerClassName:r(e)?H.Ij:H.$z})),a.map(t=>l.createElement(B.ke.Tile,{plugin:t,onClick:n=>{n.stopPropagation(),e.setActiveResource(t)},key:t.localFileId,containerClassName:r(t)?H.Ij:H.$z,showEditorTypeIcon:!0})),[...n,...i].map(t=>l.createElement(B.tY.Tile,{key:t.id,plugin:t,onClick:n=>{n.stopPropagation(),e.setActiveResource(t)},containerClassName:r(t)?H.Ij:H.$z}))):l.createElement(G,{tab:U.gr.WIDGETS})}function $(e){let{invitedPlugins:t,pendingReviewPlugins:n,approvedPlugins:i,developmentPlugins:a}=(0,y.LR)(),r=t=>!!e.activeResource&&("localFileId"in e.activeResource&&"localFileId"in t?e.activeResource.localFileId===t.localFileId:"id"in e.activeResource&&"id"in t?e.activeResource.id===t.id:void 0);return d.eD?a.length+n.length+i.length+t.length===0?l.createElement(U.n6,{tab:U.gr.PLUGINS}):l.createElement("div",{className:H.BA,onClick:e.deselectActiveResource,role:"presentation"},t.map(e=>l.createElement(B.sp.Tile,{key:e.id,plugin:e,containerClassName:r(e)?H.Ij:H.$z})),a.map(t=>l.createElement(B.ke.Tile,{plugin:t,onClick:n=>{n.stopPropagation(),e.setActiveResource(t)},key:t.localFileId,containerClassName:r(t)?H.Ij:H.$z,showEditorTypeIcon:!0})),[...n,...i].map(t=>l.createElement(B.tY.Tile,{key:t.id,plugin:t,onClick:n=>{n.stopPropagation(),e.setActiveResource(t)},containerClassName:r(t)?H.Ij:H.$z}))):l.createElement(G,{tab:U.gr.PLUGINS})}function Y(e){return d.eD?l.createElement("div",{className:H.q5},(0,E.t)("community.universal_posting_modal.plugin_info.available",{numPlugins:e.numPlugins})):l.createElement("div",{className:H.q5},(0,E.t)("community.universal_posting_modal.plugin_info.unavailable"))}function q(e){return d.eD?l.createElement("div",{className:H.q5},(0,E.t)("community.universal_posting_modal.widget_info.available",{numWidgets:e.numWidgets})):l.createElement("div",{className:H.q5},(0,E.t)("community.universal_posting_modal.widget_info.unavailable"))}function Q(e){let t;let n=(0,a.d4)(e=>e.user.email),i=(0,a.d4)(e=>e.orgById);if((0,a.d4)(e=>(0,D.Yj)(e))){let a=e.currentOrgId&&i[e.currentOrgId]?i[e.currentOrgId].name:null;t=l.createElement("div",{className:H.Js},a&&l.createElement(l.Fragment,null,a,l.createElement("span",null,"\xa0\xb7\xa0")),n)}else t=l.createElement("div",{className:H.Js},n);return l.createElement("div",{className:H.Yk},e.selectedTab===U.gr.FILES&&(0===e.numFiles?l.createElement("div",{className:H.q5},(0,E.t)("community.universal_posting_modal.file_info.available",{numFiles:e.numFiles})):l.createElement(U.IW,{query:e.searchQuery,setQuery:e.setSearchQuery,setSearchResults:e.setSearchResults})),e.selectedTab===U.gr.PLUGINS&&l.createElement(Y,{numPlugins:e.numPlugins}),e.selectedTab===U.gr.WIDGETS&&l.createElement(q,{numWidgets:e.numWidgets}),t)}function Z(e){let t=(0,a.wA)(),n=(0,k.Pc)(),i=[],o={[U.gr.FILES]:(0,E.t)("community.view_bar.files"),[U.gr.PLUGINS]:(0,E.t)("community.view_bar.plugins"),[U.gr.WIDGETS]:(0,E.t)("community.view_bar.widgets")};return Object.keys(o).forEach(a=>{let c=o[a];i.push(l.createElement(V,{tab:a,mobileNavTabTitle:c,selectedTab:e.selectedTab,key:a,onClick:()=>{e.activeSearchQuery&&(t(T._z({})),t(T.ky())),(0,r.sx)("publish_type_changed",{userId:n.id,resourceType:c}),e.setSelectedTab(a)}},c))}),l.createElement("div",{className:H.Lm},l.createElement("div",{className:H.KE},i),l.createElement(u.s_,{className:H.g8,dispatch:()=>{(0,r.sx)("community_publish_modal",{step:I.M.CLOSED}),t(N.Ce())}}))}var K=((i=K||{})[i.Fetched=0]="Fetched",i[i.Fetching=1]="Fetching",i[i.NeverFetched=2]="NeverFetched",i);let X=(0,L.Ju)(function(e){let t=(0,k.Pc)(),n=(0,a.wA)(),i=(0,a.d4)(e=>!!e.user),s=(0,a.d4)(e=>e.currentUserOrgId),d=(0,o.ql)(s,c.xBc.CAN_PUBLISH_TO_COMMUNITY),u="loaded"===d.status,[D,L]=l.useState(2),[F,B]=l.useState({}),V=(0,y.Im)(),G=(0,R.ud)(),z=(0,y.CI)(),$=(0,y.Dy)(),Y=Object.keys(G).length;(0,A.IT)((0,h.se)()),(0,A.IT)((0,h.fd)()),l.useEffect(()=>{n(T._z({})),i&&(n(f._J()),n(v.aq()));let e=document.body.style.overflowY;return document.body.style.overflowY="hidden",()=>{document.body.style.overflowY=e}},[]),l.useEffect(()=>{if(!u||2!==D)return;let e=d.data.map(e=>e.key);0!==e.length&&(L(1),x.S.getHubFileDuplicates({fileKeys:e}).then(e=>{B(e.data.meta),L(0)}))},[D,u,d.data]);let q=e=>!F[e.key],K=()=>{eo&&n(T.ky()),(0,r.sx)("community_publish_modal",{user:t.id,step:I.M.CLOSED}),n(N.Ce())},X=async e=>{await n(g.rH({fileKey:e}))},J=async e=>{e&&(et(e),G[e.key]||n(w.yJ({file:e})),await X(e.key))},[ee,et]=l.useState(null),en=()=>et(null),[ei,el]=l.useState(null),[ea,er]=l.useState(U.gr.FILES),[eo,ec]=l.useState(""),[es,ed]=l.useState([]);if(!i)return l.createElement(l.Fragment,null);let eu=u&&0===D;return l.createElement(M.Nb,{size:"any",className:H.aq,hide:K},l.createElement(Z,{activeSearchQuery:eo,selectedTab:ea,setSelectedTab:er}),l.createElement(Q,{selectedTab:ea,currentOrgId:s,searchQuery:eo,setSearchQuery:ec,setSearchResults:e=>{ed(e.filter(e=>q(e.model)))},numPlugins:z,numWidgets:$,numFiles:Y}),l.createElement(p.P,{className:H.jG,hideScrollbar:!0},!eu&&l.createElement("div",{className:H.g4},l.createElement(_.kt,{size:"small"})),eo&&l.createElement(U.fp,{activeSearchQuery:eo,activeFileKey:(null==ee?void 0:ee.key)||null,setActiveFile:J,deselectActiveFile:en,searchResults:es}),eu&&!eo&&l.createElement(j,{selectedTab:ea,activeFileKey:(null==ee?void 0:ee.key)||null,setActiveFile:J,deselectActiveFile:en,activeResource:ei,setActiveResource:el,deselectActiveResource:()=>el(null),filterFn:q})),l.createElement("div",{className:H.qr},l.createElement("div",{className:H.PJ},(0,E.t)("community.universal_posting_modal.footer.choose_resource"),l.createElement(m.CY,{href:"https://help.figma.com/hc/articles/360040035974-Publish-Community-files",target:"_blank",trusted:!0},(0,E.t)("community.universal_posting_modal.footer.learn_more"))),l.createElement("div",{className:H.GC},l.createElement(W.M4,{onClick:K},(0,E.t)("general.cancel")),l.createElement(W.UC,{disabled:ea===U.gr.FILES?!ee:ea===U.gr.PLUGINS||ea===U.gr.WIDGETS?!ei:void 0,onClick:()=>{if(ea===U.gr.FILES)ee&&((0,r.sx)("community_publish_modal",{user:t.id,step:I.M.DETAILS,resourceType:O.bD.HUB_FILE,fileKey:ee.key,fileName:ee.name}),n((0,C.t)({fileKey:ee.key,isFullscreenOpen:!1,entryPoint:S.k2.UNIVERSAL_POSTING,canvasThumbnailPromise:(0,P.$2)(ee.key,t),source:e.source})),et(null));else if((ea===U.gr.PLUGINS||ea===U.gr.WIDGETS)&&ei){let e="localFileId"in ei?ei:V[ei.id],i=e.localFileId;(0,r.sx)("community_publish_modal",{user:t.id,step:I.M.DETAILS,resourceType:ea===U.gr.PLUGINS?O.bD.PLUGIN:O.bD.WIDGET,pluginId:e.plugin_id,pluginName:e.name,localFileId:i}),n((0,b.r)({localFileId:i,entryPoint:S.k2.UNIVERSAL_POSTING})),el(null)}}},(0,E.t)("general.next")))))},"Universal Posting Modal")},102677:(e,t,n)=>{n.d(t,{g:()=>s});var i=n(411855),l=n(629019),a=n.n(l),r=n(487644),o=n(959875),c=n(783423);let s=i.forwardRef((e,t)=>{let n=o.cx.h16.w16.ml1.flex.justifyCenter.itemsCenter.with({colorIconOnbrand:e.isOnBrandColor,colorIcon:!e.isOnBrandColor}).$;return i.createElement("button",{className:a()("dropdown_button--button--gnByJ",e.buttonClassName,{"dropdown_button--active--yOqbm":e.isShowingDropdown}),onClick:e.onClick,ref:t,"data-testid":e.dataTestId,"aria-label":e["aria-label"]},e.children,i.createElement(r.B,{svg:c.A,className:n}))})},523586:(e,t,n)=>{n.d(t,{H:()=>a});var i=n(411855),l=n(159849);let a=i.createContext({shouldShowChevron:e=>!1,onClick:()=>!1,onMouseEnter:l.lQ,onMouseMove:l.lQ})},53601:(e,t,n)=>{let i;n.d(t,{A_:()=>k,An:()=>y,HH:()=>P,Pl:()=>G,_1:()=>j,_2:()=>V,bs:()=>$,dB:()=>Q,sE:()=>I.A,sv:()=>L});var l=n(411855),a=n(188507),r=n(296210),o=n.n(r),c=n(224352),s=n(304913),d=n(794993),u=n(487644),m=n(377372),_=n(402791),p=n(66673),E=n(922990),g=n(22583);if(443==n.j)var f=n(359280);var h=n(521388),v=n(211490),C=n(432719),b=n(918044),w=n(523586),N=n(986312),T=n(44173);if(443==n.j)var I=n(163119);function y(e){return l.createElement("span",{className:T.k1,dangerouslySetInnerHTML:{__html:o().sanitize(e.block.html_text)}})}function R(e){let t=(0,c.UF)(e.block.emoji_shortcode)[0];return t.meta?l.createElement("span",{className:T.A9},t.unicode):l.createElement(l.Fragment,null)}function k(e){return e?e.map((e,t)=>"HtmlTextBlock"===e._block_type?l.createElement(y,{key:t,block:e}):l.createElement(R,{key:t,block:e})):[]}function P(e){let{block:t,size:n}=e;return l.createElement(h.Ro,{entity:{...t,id:t.entity_id},size:n,hideFallbackInitial:!1,shape:t.shape.toUpperCase()})}function A(e){let{block:t}=e;return l.createElement("div",{className:`${T.km} ${N.h3}`,style:{background:`url(${(0,f.A)()})`}},l.createElement("div",{className:`${N.iT}`,style:{backgroundColor:(e=>{if(!e||0===e.alpha)return"transparent";let{red:t,green:n,blue:i,alpha:l}=e;return`rgba(${255*t|0}, ${255*n|0}, ${255*i|0}, ${l})`})(t.background_color)}},l.createElement("div",{className:N.xn,style:{backgroundImage:`url(${t.img_url})`}})))}function D(e){let{block:t}=e;return l.createElement("div",{className:T.Ew},l.createElement("div",{className:T.km,style:{backgroundImage:`url(${t.img_url})`}}))}function O(e){let{avatars:t}=e;return 0===t.length?null:t.length>1?l.createElement("div",{className:T.EI},l.createElement("div",{className:T.uX},l.createElement(P,{block:t[1],size:E.Pf.MEDIUM})),l.createElement("div",{className:T.SH},l.createElement(P,{block:t[0],size:E.Pf.MEDIUM}))):l.createElement("div",{className:T.EI},l.createElement(P,{block:t[0],size:E.Pf.LARGE}))}function S(e){let{avatars:t,icon:n}=e;return 0===t.length?null:t.length>1?l.createElement("div",{className:T.e0},l.createElement("div",{className:T.dh},l.createElement(P,{block:t[1],size:E.Pf.MEDIUM})),l.createElement("div",{className:T.xf},l.createElement(P,{block:t[0],size:E.Pf.MEDIUM})),n&&l.createElement(x,{icon:n})):l.createElement("div",{className:T.e0},l.createElement(P,{block:t[0],size:E.Pf.LARGE}),n&&l.createElement(x,{icon:n}))}function x(e){let{icon:t}=e,n="dark"===(0,g.DP)();return l.createElement("div",{className:T.Kk},"ImageThumbnailBlock"===t._block_type?l.createElement("img",{className:`${T.ni} ${n?T.En:""}`,src:t.img_url,alt:""}):l.createElement(R,{block:t}))}function L(e){let t=(0,a.wA)(),{block:n,callbacks:i,isPrimary:r=!0}=e,o=async()=>{let e=i.buildNotificationActionRequest(n.notification_action);await e.then(({data:e})=>{if(n.hide_after_action)i.hideNotification();else if(i.followLinkIfPossible(),e.meta.updated_notification_blob){let t=e.meta.updated_notification_blob;i.updateNotification(t.notification_id,t)}},()=>{let e="resolve"===n.notification_action?(0,_.t)("user_notification.an_error_occurred_while_clicking_this_notification"):(0,_.t)("user_notification.an_error_occurred_while_removing_this_notification");t(m.s.error(e))})},c=k([n.text]);return r?l.createElement(s.$$,{className:T.xG,onClick:o},c):l.createElement(s.nR,{className:T.eD,onClick:o},c)}function M(e){let{block:t,actionBlockCallbacks:n}=e;return l.createElement("div",{className:T._u},l.createElement(L,{block:t.secondary_action,callbacks:n,isPrimary:!1}),l.createElement(L,{block:t.primary_action,callbacks:n,isPrimary:!0}))}function F(e){let{block:t,plan:n,shouldShowChevron:i}=e;switch(t._block_type){case"BodyAndThumbnailBlock":return l.createElement(U,{block:t,plan:n,shouldShowChevron:i});case"SplitlineTitleAndBodyBlock":return l.createElement(B,{block:t,shouldShowChevron:i})}}function U(e){let{block:t,plan:n,shouldShowChevron:i}=e;return l.createElement(l.Fragment,null,l.createElement("div",{className:T.hQ},l.createElement("div",{className:T.Qs},l.createElement("div",null,k(t.title)),l.createElement("div",{className:T.tJ},l.createElement("div",{className:T.FS},t.description&&l.createElement("div",{className:T.wZ},k(t.description)),l.createElement("div",{className:T.PI},n&&l.createElement(l.Fragment,null,l.createElement(C.H,{entityId:n.id.toString(),entityName:n.name,imgUrl:n.img_url||void 0}),(0,v.gN)(n.name,21),l.createElement("div",{className:T.lN},"\xb7")),l.createElement(d.h1,{date:t.created_at,style:"short"}))),i&&l.createElement("div",{className:T.Vt},l.createElement(u.B,{svg:I.A,className:T.t4}))))),(()=>{if(!t.thumbnail)return null;let e=t.thumbnail;switch(e._block_type){case"AvatarBlock":return l.createElement(P,{block:e,size:E.Pf.XLARGE});case"ImageThumbnailBlock":return l.createElement(D,{block:e});case"FileThumbnailBlock":return l.createElement(A,{block:e})}})())}function B(e){let{block:t,shouldShowChevron:n}=e,i=l.useRef(null);return t.description&&(()=>{if(i.current){let e=i.current.getBoundingClientRect().height;i.current.style.webkitLineClamp=`${Math.floor(e/18)}`,i.current.style.maxHeight=`${e}px`}})(),l.createElement("div",{className:T.gJ},l.createElement("div",{className:T.SZ},l.createElement("div",{className:T.DD},k(t.title)),l.createElement(z,{createdAt:t.created_at})),l.createElement("div",{className:T.tJ},l.createElement("div",{className:T.FS},l.createElement("div",{className:T.VA},k(t.subtitle)),t.description&&l.createElement("div",{ref:i,className:T.Ec},k(t.description))),n&&l.createElement("div",{className:T.Vt},l.createElement(u.B,{svg:I.A,className:T.t4}))))}function W(e){let{notification:t}=e;return(0,b.ro)()?l.createElement(H,{notification:t,children:e.children}):l.createElement("div",{className:T.sU},t.is_unread?l.createElement("div",{className:T.Zm}):null,l.createElement(O,{avatars:t.avatars}),e.children)}function H(e){let{notification:t}=e;return l.createElement("div",{className:T.sU},t.is_unread?l.createElement("div",{className:T.bm}):null,l.createElement(S,{avatars:t.avatars,icon:t.icon}),e.children)}function V(e){let{attachment:t,notification:n,dontShowPlanIcon:i}=e;return l.createElement(W,{notification:n},l.createElement(F,{block:t.body,plan:!0===i?void 0:n.plan}))}function G(e){let{attachment:t,notification:n,dontShowPlanIcon:i}=e,{shouldShowChevron:a}=l.useContext(w.H);return l.createElement(W,{notification:n},l.createElement(F,{block:t.body,plan:!0===i?void 0:n.plan,shouldShowChevron:a(n)}))}function j(e){let{attachment:t,notification:n,actionBlockCallbacks:i}=e;return l.createElement(l.Fragment,null,l.createElement(W,{notification:n},l.createElement(F,{block:t.body,plan:n.plan})),l.createElement(M,{block:t.actions,actionBlockCallbacks:i}))}function z(e){let{createdAt:t}=e,n=$(t),i=(0,d.Ak)(t,"narrow");if("today"!==n){let e=new Date(t),n={};n=!function(e){let t=new Date;return t.setDate(t.getDate()-365),e>=t}(e)?{month:"short",day:"numeric",year:"numeric"}:{month:"short",day:"numeric"},i=new Intl.DateTimeFormat((0,p.Gq)().getPrimaryLocale(!1),n).format(e)}return l.createElement("div",{className:T.vE},i)}function $(e){let t=new Date(e),n=new Date,i=new Date(n);return(i.setDate(n.getDate()-1),Y(t,n))?"today":Y(t,i)?"yesterday":t>=new Date(n.getFullYear(),n.getMonth(),n.getDate()-7)?"last_week":"older"}function Y(e,t){return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}var q=((i=q||{}).TODAY="today",i.YESTERDAY="yesterday",i.LAST_WEEK="last_week",i.OLDER="older",i);let Q={today:l.createElement(_.Tx,{id:"user_notifications.today"}),yesterday:l.createElement(_.Tx,{id:"user_notifications.yesterday"}),last_week:l.createElement(_.Tx,{id:"user_notifications.last_7_days"}),older:l.createElement(_.Tx,{id:"user_notifications.older"})}},474026:(e,t,n)=>{n.d(t,{td:()=>M,IP:()=>W,fd:()=>i,Hq:()=>U,Mg:()=>F,ql:()=>B});var i,l=n(411855),a=n(188507),r=n(629019),o=n.n(r),c=n(897138),s=n(42821),d=n(451015),u=n(656927),m=n(304913),_=n(548891),p=n(467066),E=n(402791),g=n(573760),f=n(983245),h=n(22310),v=n(21122),C=n(812668),b=n(158423),w=n(211490),N=n(918044),T=n(53601),I=n(481689),y=n(1153),R=n(952953),k=n(611464),P=n(42910),A=n(87103),D=n(523586),O=n(598043);let S=class{constructor(){this.circularBuffer=new y.C(S.BUFFER_CAPACITY),this.lastTimestamp=0}clear(){this.circularBuffer.clear()}push(e,t){t-this.lastTimestamp>S.THROTTLE_DURATION_MS&&(this.circularBuffer.push(e),this.lastTimestamp=t)}getLocation50msAgo(){let e=this.circularBuffer.toArray();return e.length>0?e[0]:new P.Mi(window.innerWidth,window.innerHeight)}};function x(e){var t;let[n,i]=(0,l.useState)(null),[a,r]=(0,l.useState)(0),o=l.useRef(null),c=l.useRef(null),s=l.useRef({notificationId:"",mouseLocationHistory:new S,scheduledCall:void 0});(0,l.useEffect)(()=>{c.current&&c.current.addEventListener("mouseover",e=>{var t;clearTimeout(null==(t=s.current)?void 0:t.scheduledCall)})},[n]);let d=l.useMemo(()=>{function e(e,t=0){let n=window.innerWidth>900&&window.innerHeight>650;s.current.notificationId=e.notification_id,n&&(0,O.UC)(e)?(i((0,O.AS)(e)),r(t)):i(null),s.current.mouseLocationHistory.clear()}return{shouldShowChevron:()=>!1,onClick:e=>!1,onMouseEnter:(t,n)=>{var i,l,a;let r=!1;if(n.notification_id!==s.current.notificationId&&c.current){let e=c.current.getBoundingClientRect(),n=new P.Mi(e.left,e.top),i=new P.Mi(e.left,e.bottom),l=[s.current.mouseLocationHistory.getLocation50msAgo(),n,i];r=(0,R.y)(new P.Mi(t.clientX,t.clientY),l)}let o=t.target;r?(l=()=>{e(n,o.getBoundingClientRect().bottom)},clearTimeout(null==(a=s.current)?void 0:a.scheduledCall),s.current&&(s.current.scheduledCall=setTimeout(l,500))):(clearTimeout(null==(i=s.current)?void 0:i.scheduledCall),e(n,o.getBoundingClientRect().bottom))},onMouseMove:e=>{s.current.mouseLocationHistory.push(new P.Mi(e.clientX,e.clientY),e.timeStamp)}}},[c]);if(!(0,k.kc)().desktop_quickreply_filebrowser)return l.createElement(l.Fragment,null,e.children);let u=Math.max(0,a-((null==(t=o.current)?void 0:t.getBoundingClientRect().y)??0)-640);return l.createElement(l.Fragment,null,l.createElement("div",{className:"quick_reply_switcher--hoverContainer--XEskB",ref:o},n&&l.createElement("div",{className:"quick_reply_switcher--quickReplyContainer--3Xnku",style:{top:u,height:640}},l.createElement(A.d,{quickReplyInfo:n,onClose:()=>i(null),closeIcon:"x-32",hideOverflowMenu:!0,ref:c}))),l.createElement(D.H.Provider,{value:d},e.children))}S.BUFFER_CAPACITY=10,S.DESIRED_DURATION_MS=50,S.THROTTLE_DURATION_MS=S.DESIRED_DURATION_MS/S.BUFFER_CAPACITY;var L=n(391758);let M="-1",F="1",U="web";function B(e,t){let n=(0,a.wA)(),i=(0,a.d4)(e=>e.user.id),r=(0,a.d4)(e=>e.user.community_profile_id),o=(0,a.d4)(e=>e.authedUsers.byId[i].plans),m=l.useMemo(()=>void 0===o?new Map:new Map(o.map(e=>[e.plan_id,e.is_org])),[o]),_=(0,a.d4)(e=>e.userNotifications.userBellStates),p=(0,a.d4)(e=>e.userNotifications.communityProfileBellStates),h=(0,a.d4)(e=>e.selectedView.view),[v,w]=(0,l.useState)(new Map),[N,T]=(0,l.useState)(!0),I=(0,d.F)(p),y=(0,d.F)(_);l.useEffect(()=>{let l=(0,c.s)(()=>{var l,a;e?r&&(I.current[r]&&n((0,C.X2)({isBellStateHigh:!1,userInitiated:!0,profileId:r})),b.s.getCommunityServerDriven({currentView:h,appVersion:F,clientType:U}).then(({data:e})=>{R(e.meta)}).catch(e=>{n(g.F.enqueue({message:(0,E.t)("user_notification.an_error_occurred_while_fetching_your_community_notifications"),type:"user-notification",error:!0})),n(f.oB())})):((null==(a=null==(l=y.current)?void 0:l[i])?void 0:a[M])&&n((0,C.Zo)({isBellStateHigh:!1,userInitiated:!0,notificationSpaceId:M,userId:i})),b.s.getServerDrivenPlan({currentPlanId:t,currentView:h,isPlanOrg:m.get(t)||!1,appVersion:F,clientType:U}).then(({data:e})=>{R(e.meta)}).catch(e=>{n(g.F.enqueue({message:(0,E.t)("user_notification.an_error_occurred_while_fetching_your_notifications"),type:"user-notification",error:!0})),n(f.oB())}))},800,!0);T(!0),l()},[t,I,h,n,e,y,m,r,i]);let R=e=>{let t=new Map;e.forEach(e=>{t.set(e.notification_id,e)}),w(t),T(!1)};return{notificationFeedMap:v,isFetchingNotifications:N,markAllAsReadFn:()=>{(e?u.Ay.post("/api/user_notifications/community/mark_read",{currentView:h,source:s.S8?"desktopbell":"web"}):u.Ay.post("/api/user_notifications/mark_read/plan",{current_plan_id:t,currentView:h,is_plan_org:m.get(t)||!1,source:s.S8?"desktopbell":"web"})).then(()=>{w(new Map(Array.from(v,([e,t])=>(t.is_unread=!1,[e,t]))))}).catch(()=>{n(g.F.enqueue({message:(0,E.t)("user_notification.an_error_occurred_marking_all_as_read"),type:"user-notification",error:!0}))})},updateNotification:(e,t)=>{w(new Map(v.set(e,t)))}}}function W(e){let[t,n]=(0,l.useState)(M),{notificationFeedMap:a,isFetchingNotifications:r,markAllAsReadFn:c,updateNotification:s}=B(!!e.inCommunity,t),[d,u]=l.useState(!1),m=e=>{e.stopPropagation()},_=(0,N.ro)(),p=e=>{e===w.aT&&(e=M),(0,h.FE)(e,"notifications",void 0),n(e)},E=[...a.values()];return d&&(E=E.filter(e=>e.is_unread)),l.createElement("div",{className:o()(0!==a.size||r?L.P2:L.pg,e.containerClassName,{[L.Uz]:e.arrowRight}),onMouseDown:m,onClick:m},l.createElement(x,null,l.createElement(i.Header,{selectedPlan:t,onPlanFilterUpdate:e=>p(e),inCommunity:!!e.inCommunity,showMarkAllAsRead:H(r,E)&&!_,markAllAsReadFn:c}),!!_&&l.createElement(i.UnreadToggle,{showOnlyUnreads:d,toggleUnreadFilter:e=>{u(e)},isFetchingNotifications:r,notifications:E,markAllAsReadFn:c}),l.createElement(i.Feed,{notifications:E,currentPlanFilter:t===M?w.aT:t,isFetchingNotifications:r,inCommunity:e.inCommunity,fillParent:!1,updateNotificationCallback:s})))}function H(e,t){return!e&&t.some(e=>e.is_unread)}(e=>{function t(e){return(0,N.ro)()?l.createElement("div",{className:L.sJ},T.dB[e.notificationDateGroup]):null}e.Feed=function(e){var n;let i=(0,v.Pc)(),[r,o]=(0,l.useState)([]),c=(0,a.d4)(e=>{var t;return i?null==(t=e.authedUsers.byId[i.id])?void 0:t.plans:null}),s=e=>{o([...r,e])},d=!1;if(i&&!e.inCommunity&&(null==c?void 0:c.length)===1&&(d=!0,e.currentPlanFilter===w.aT)){let t=c[0].plan_id;for(let i of e.notifications)if((null==(n=i.plan)?void 0:n.id.toString())!==t){d=!1;break}}if(e.isFetchingNotifications)return l.createElement("div",{className:L.g4},l.createElement(_.kt,null));if(0===e.notifications.length)return l.createElement("div",{className:L.OL},l.createElement(E.Tx,{id:"user_notifications.dropdown.no_notifications"}));{let n;let i=e.notifications.filter(e=>!r.includes(e.notification_id)),a=e.inCommunity?L.jG:L.I3;return l.createElement(p.P,{className:`${e.fillParent?"":a}`},l.createElement("div",null,i.map((i,a)=>{let r;let o=null;try{r=(0,I.z)(i);let e=(0,T.bs)(r.body.created_at);e!==n&&(n=e,o=l.createElement(t,{key:`date-${a}`,notificationDateGroup:e}))}catch(e){console.error("Skipping date header, unsupported notification")}return l.createElement(l.Fragment,{key:`row-container-${a}`},o,l.createElement(I.r,{key:`row-${a}`,notification:i,updateNotificationCallback:e.updateNotificationCallback,dontShowPlanIcon:d,currentPlanFilter:e.currentPlanFilter,inDesktopTray:e.inDesktopTray,onHide:()=>s(i.notification_id)}))})))}},e.UnreadBar=function(e){return H(e.isFetchingNotifications,e.notifications)?l.createElement("div",{className:L.FR},function(e){let t=e.reduce((e,t)=>e+Number(t.is_unread),0);return l.createElement("div",{className:L.gy},(0,E.t)("user_notifications.unread_count",{unreadCount:t}))}(e.notifications),H(e.isFetchingNotifications,e.notifications)&&l.createElement(m.N_,{onClick:e.markAllAsReadFn,className:L.nf,trusted:!0},l.createElement(E.Tx,{id:"user_notifications.dropdown.mark_all_as_read"}))):null},e.DateHeader=t,e.Header=function(e){return l.createElement("div",{className:L.wx},e.inCommunity?l.createElement("div",{className:L.O9},(0,E.t)("user_notification.community_notifications")):l.createElement(l.Fragment,null,l.createElement(w.jy,{currentPlanFilter:e.selectedPlan===M?w.aT:e.selectedPlan,onPlanFilterUpdate:e.onPlanFilterUpdate})),e.children,e.showMarkAllAsRead&&l.createElement(m.N_,{onClick:e.markAllAsReadFn,className:L.nf,trusted:!0},l.createElement(E.Tx,{id:"user_notifications.dropdown.mark_all_as_read"})))},e.UnreadToggle=function(e){return e.isFetchingNotifications?null:l.createElement("div",{className:L.FR},l.createElement("div",{className:L.Jz},l.createElement("button",{className:o()({[L.e7]:!0,[L.z8]:!e.showOnlyUnreads}),onClick:()=>{e.toggleUnreadFilter(!1)}},(0,E.t)("user_notification.all")),l.createElement("button",{className:o()({[L.e7]:!0,[L.z8]:e.showOnlyUnreads}),onClick:()=>{e.toggleUnreadFilter(!0)}},function(e){let t=e.reduce((e,t)=>e+Number(t.is_unread),0);return 0===t?(0,E.t)("user_notifications.unread_empty"):(0,E.t)("user_notifications.unread_toggle_count",{unreadCount:t})}(e.notifications))),H(e.isFetchingNotifications,e.notifications)&&l.createElement(m.N_,{onClick:e.markAllAsReadFn,className:L.nf,trusted:!0},l.createElement(E.Tx,{id:"user_notifications.dropdown.mark_all_as_read"})))}})(i||(i={}))},481689:(e,t,n)=>{n.d(t,{r:()=>K,z:()=>Z});var i=n(411855),l=n(188507),a=n(169614),r=n(611464),o=n(983245),c=n(639061),s=n(22310),d=n(801199),u=n(818533),m=n(216953),_=n(378757),p=n(42821),E=n(703473),g=n(656927),f=n(377372),h=n(402791),v=n(918044),C=n(523586),b=n(53601),w=n(794993),N=n(487644),T=n(43594),I=n(922990);function y(e){switch(e){case"AtMentionCommentNotif":case"CanvasAtMentionNotif":case"AtMentionInviteNotif":case"FeedPostAtMention":return i.createElement(x,null);case"FileCommentReplyNotifV2":return i.createElement(P,null);case"FileCommentReactionNotifV2":case"FeedCommentReactionNotifV":case"FeedPostReactionNotifV2":return i.createElement(O,null);case"InviteFolderNotif":case"InviteFileNotif":case"InviteTeamNotif":case"InviteFileRepoNotif":case"InviteFileReminderNotif":return i.createElement(D,null);case"MergeRequestReviewerInviteNotif":case"MergeRequestChangesRequestedNotif":case"BranchMergedNotif":case"MergeRequestApprovedNotif":return i.createElement(k,null);case"FileRoleRequestCreatedNotif":return i.createElement(A,null);case"FileRoleRequestApprovedNotif":return i.createElement(R,null);default:return i.createElement(S,null)}}function R(){return i.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("rect",{width:"20",height:"20",rx:"4",fill:"#E6E6E6"}),i.createElement("path",{d:"M15.6255 6.13281L7.89111 13.8672L4.37549 10.3516",stroke:"black","stroke-opacity":"0.9","stroke-linecap":"round","stroke-linejoin":"round"}))}function k(){return i.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("rect",{width:"20",height:"20",rx:"4",fill:"#E6E6E6"}),i.createElement("path",{d:"M3.85107 5.89014H5.73195C7.11699 5.89014 8.23979 7.01294 8.23979 8.39798V9.65192C8.23979 11.037 9.36259 12.1598 10.7476 12.1598H15.1363",stroke:"black","stroke-opacity":"0.9","stroke-linecap":"round"}),i.createElement("path",{d:"M11.3745 5.89014H15.1363",stroke:"black","stroke-opacity":"0.9","stroke-linecap":"round"}),i.createElement("path",{d:"M12.6279 9.33838L15.1358 12.1597L12.6279 14.981",stroke:"black","stroke-opacity":"0.9","stroke-linecap":"round"}))}function P(){return i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"},i.createElement("rect",{width:"20",height:"20",rx:"4",fill:"#E6E6E6"}),i.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M4.38054 5.05103V7.60525C4.38054 9.95246 6.28333 11.8552 8.63054 11.8552H13.6551L11.3566 14.1538L12.0637 14.8609L15.2158 11.7088L15.5693 11.3552L15.2158 11.0017L12.0637 7.84958L11.3566 8.55669L13.6551 10.8552H8.63054C6.83562 10.8552 5.38054 9.40017 5.38054 7.60525V5.05103H4.38054Z",fill:"black","fill-opacity":"0.9"}))}function A(){return i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"},i.createElement("rect",{width:"20",height:"20",rx:"4",fill:"#E6E6E6"}),i.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.1417 4.1958C9.24166 4.1958 8.34668 4.45436 7.66874 5.0415C6.97965 5.6383 6.56494 6.53183 6.56494 7.69164C6.56494 7.96778 6.7888 8.19164 7.06494 8.19164C7.34109 8.19164 7.56494 7.96778 7.56494 7.69164C7.56494 6.78674 7.87894 6.18236 8.32341 5.79741C8.77904 5.40281 9.42246 5.1958 10.1417 5.1958C10.8431 5.1958 11.4156 5.42272 11.8075 5.78266C12.196 6.13946 12.4352 6.65163 12.4352 7.28679C12.4352 7.77431 12.3292 8.13884 12.1429 8.44619C11.9522 8.76066 11.6578 9.0475 11.231 9.34707C10.5893 9.79743 10.1119 10.201 9.81658 10.7353C9.51761 11.276 9.43932 11.8868 9.43932 12.6712C9.43932 12.9473 9.66318 13.1712 9.93932 13.1712C10.2155 13.1712 10.4393 12.9473 10.4393 12.6712C10.4393 11.9365 10.5177 11.5339 10.6917 11.2191C10.8694 10.8977 11.1815 10.6035 11.8054 10.1656C12.2952 9.82188 12.7093 9.44073 12.998 8.96464C13.2909 8.48143 13.4352 7.93284 13.4352 7.28679C13.4352 6.38355 13.0873 5.60023 12.4839 5.04613C11.884 4.49518 11.0598 4.1958 10.1417 4.1958ZM9.98822 14.3041C9.54639 14.3041 9.18822 14.6623 9.18822 15.1041C9.18822 15.546 9.54639 15.9041 9.98822 15.9041C10.43 15.9041 10.7882 15.546 10.7882 15.1041C10.7882 14.6623 10.43 14.3041 9.98822 14.3041Z",fill:"black","fill-opacity":"0.9"}))}function D(){return i.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("rect",{width:"20",height:"20",rx:"4",fill:"#E6E6E6"}),i.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.499 4.375C10.499 4.09886 10.2752 3.875 9.99902 3.875C9.72288 3.875 9.49902 4.09886 9.49902 4.375V9.50004H4.37402C4.09788 9.50004 3.87402 9.7239 3.87402 10C3.87402 10.2762 4.09788 10.5 4.37402 10.5H9.49902V15.625C9.49902 15.9011 9.72288 16.125 9.99902 16.125C10.2752 16.125 10.499 15.9011 10.499 15.625V10.5H15.624C15.9002 10.5 16.124 10.2762 16.124 10C16.124 9.7239 15.9002 9.50004 15.624 9.50004H10.499V4.375Z",fill:"black","fill-opacity":"0.9"}))}function O(){return i.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("rect",{width:"20",height:"20",rx:"4",fill:"#E6E6E6"}),i.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M4.91379 10C4.91379 7.19097 7.19097 4.91379 10 4.91379C12.809 4.91379 15.0862 7.19097 15.0862 10C15.0862 12.809 12.809 15.0862 10 15.0862C7.19097 15.0862 4.91379 12.809 4.91379 10ZM10 3.91379C6.63868 3.91379 3.91379 6.63868 3.91379 10C3.91379 13.3613 6.63868 16.0862 10 16.0862C13.3613 16.0862 16.0862 13.3613 16.0862 10C16.0862 6.63868 13.3613 3.91379 10 3.91379ZM10.0001 13.2931C8.42095 13.2931 7.10142 12.1816 6.78116 10.6983H7.81524C8.11062 11.6233 8.97713 12.2931 10.0001 12.2931C11.023 12.2931 11.8896 11.6233 12.1849 10.6983H13.219C12.8988 12.1816 11.5792 13.2931 10.0001 13.2931ZM13.0426 8.82457C13.0426 9.23593 12.7091 9.5694 12.2978 9.5694C11.8864 9.5694 11.5529 9.23593 11.5529 8.82457C11.5529 8.41321 11.8864 8.07974 12.2978 8.07974C12.7091 8.07974 13.0426 8.41321 13.0426 8.82457ZM7.70199 9.5694C8.11335 9.5694 8.44682 9.23593 8.44682 8.82457C8.44682 8.41321 8.11335 8.07974 7.70199 8.07974C7.29064 8.07974 6.95717 8.41321 6.95717 8.82457C6.95717 9.23593 7.29064 9.5694 7.70199 9.5694Z",fill:"black","fill-opacity":"0.9"}))}function S(){return i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"},i.createElement("rect",{width:"20",height:"20",rx:"4",fill:"#E6E6E6"}),i.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10 4.25C6.82436 4.25 4.25 6.82436 4.25 10V12.8281V13.2241V15.25C4.25 15.5261 4.47386 15.75 4.75 15.75H10C13.1756 15.75 15.75 13.1756 15.75 10C15.75 6.82436 13.1756 4.25 10 4.25ZM5.25 10C5.25 7.37665 7.37665 5.25 10 5.25C12.6234 5.25 14.75 7.37665 14.75 10C14.75 12.6234 12.6234 14.75 10 14.75H5.25V10Z",fill:"black"}))}function x(){return i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"},i.createElement("rect",{width:"20",height:"20",rx:"4",fill:"#E6E6E6"}),i.createElement("path",{d:"M10.2364 15.625C9.38253 15.625 8.61522 15.4936 7.93448 15.2309C7.25375 14.9682 6.67304 14.589 6.19235 14.0934C5.71464 13.6007 5.3474 13.0066 5.09063 12.3109C4.83685 11.6152 4.70996 10.8375 4.70996 9.97761C4.70996 9.13565 4.83834 8.37132 5.09511 7.68461C5.35487 6.99791 5.7236 6.40824 6.2013 5.91561C6.682 5.42297 7.25524 5.04379 7.92105 4.77807C8.58984 4.50936 9.33327 4.375 10.1513 4.375C10.9515 4.375 11.6681 4.51533 12.301 4.79598C12.934 5.07365 13.4729 5.45283 13.9178 5.93352C14.3626 6.41421 14.7015 6.96208 14.9344 7.57713C15.1702 8.18919 15.2882 8.82962 15.2882 9.49841C15.2882 9.92237 15.2553 10.3404 15.1897 10.7524C15.127 11.1644 15.018 11.5376 14.8627 11.872C14.7075 12.2064 14.4925 12.4736 14.2178 12.6737C13.9431 12.8707 13.5953 12.9692 13.1743 12.9692C12.9534 12.9692 12.7354 12.9334 12.5205 12.8618C12.3085 12.7871 12.1264 12.6662 11.9741 12.499C11.8248 12.3288 11.7382 12.1019 11.7143 11.8183H11.6696C11.574 12.0332 11.4397 12.2303 11.2665 12.4094C11.0933 12.5856 10.8798 12.7259 10.6261 12.8304C10.3753 12.9349 10.0842 12.9827 9.75275 12.9737C9.37656 12.9648 9.03769 12.8812 8.73614 12.7229C8.43757 12.5647 8.18229 12.3482 7.97031 12.0735C7.76131 11.7989 7.60158 11.4809 7.49111 11.1196C7.38064 10.7554 7.32541 10.3628 7.32541 9.94178C7.32541 9.53573 7.38661 9.16103 7.50903 8.81768C7.63442 8.47432 7.8061 8.17426 8.02405 7.9175C8.24499 7.66073 8.50325 7.45621 8.79883 7.30394C9.09442 7.15167 9.41239 7.06359 9.75275 7.03971C10.0573 7.01881 10.3379 7.04867 10.5947 7.12928C10.8515 7.20691 11.0694 7.32036 11.2486 7.46965C11.4277 7.61893 11.5561 7.78762 11.6337 7.97572H11.6785V7.16511H12.4085V11.3167C12.4085 11.6302 12.4697 11.875 12.5921 12.0512C12.7175 12.2243 12.9146 12.3109 13.1833 12.3109C13.5087 12.3109 13.773 12.2049 13.976 11.9929C14.182 11.778 14.3328 11.4615 14.4283 11.0435C14.5239 10.6225 14.5716 10.1045 14.5716 9.48945C14.5716 9.02369 14.5059 8.57285 14.3746 8.13694C14.2462 7.69805 14.0581 7.292 13.8103 6.91879C13.5625 6.5426 13.2579 6.21417 12.8967 5.93352C12.5354 5.64988 12.1219 5.42894 11.6561 5.2707C11.1933 5.11246 10.6798 5.03334 10.1155 5.03334C9.41687 5.03334 8.78241 5.15127 8.21215 5.38714C7.64189 5.62301 7.15074 5.96039 6.73872 6.39928C6.32969 6.83818 6.0147 7.36216 5.79376 7.97124C5.57282 8.57733 5.46235 9.25358 5.46235 10C5.46235 10.7554 5.57282 11.4376 5.79376 12.0467C6.0147 12.6558 6.33267 13.1768 6.74768 13.6097C7.16567 14.0426 7.67025 14.3755 8.26141 14.6084C8.85258 14.8413 9.51838 14.9577 10.2588 14.9577C10.5872 14.9577 10.9097 14.9249 11.2262 14.8592C11.5456 14.7965 11.8353 14.7188 12.095 14.6263C12.3578 14.5337 12.5697 14.4427 12.731 14.3531L12.9594 14.9801C12.7384 15.0995 12.4757 15.2085 12.1711 15.307C11.8696 15.4056 11.5501 15.4832 11.2127 15.5399C10.8784 15.5966 10.5529 15.625 10.2364 15.625ZM9.8468 12.2706C10.2529 12.2706 10.5947 12.1766 10.8724 11.9885C11.15 11.8004 11.359 11.5302 11.4994 11.1778C11.6427 10.8255 11.7143 10.4016 11.7143 9.90595C11.7143 9.40734 11.6382 8.99681 11.4859 8.67436C11.3367 8.35191 11.1232 8.11306 10.8455 7.9578C10.5708 7.79956 10.2454 7.72044 9.8692 7.72044C9.50494 7.72044 9.18548 7.82046 8.9108 8.0205C8.6391 8.21756 8.42563 8.48179 8.27037 8.8132C8.1181 9.14461 8.04197 9.50886 8.04197 9.90595C8.04197 10.3269 8.10914 10.7166 8.2435 11.0748C8.38084 11.4331 8.58237 11.7227 8.8481 11.9437C9.11681 12.1616 9.44971 12.2706 9.8468 12.2706Z",fill:"black","fill-opacity":"0.9"}),i.createElement("path",{d:"M5.02027 12.3369L5.02018 12.3366C4.76295 11.6315 4.63496 10.8449 4.63496 9.97761C4.63496 9.12799 4.76452 8.3546 5.02486 7.65835L5.02496 7.65808C5.28808 6.96247 5.66213 6.36389 6.14746 5.86339L6.14762 5.86323C6.63592 5.36279 7.21807 4.97789 7.89317 4.70844C8.57194 4.43573 9.32501 4.3 10.1513 4.3C10.9603 4.3 11.6874 4.44189 12.3313 4.72735C12.9731 5.00892 13.5206 5.39394 13.9728 5.88258C14.4242 6.37034 14.7682 6.92644 15.0045 7.5504C15.2436 8.17117 15.3632 8.82067 15.3632 9.49841C15.3632 9.92616 15.3301 10.348 15.2638 10.7639M5.02027 12.3369L15.1897 10.7524M5.02027 12.3369C5.28036 13.0415 5.65295 13.6448 6.1385 14.1456L6.19235 14.0934M5.02027 12.3369L6.19235 14.0934M15.2638 10.7639C15.2638 10.764 15.2637 10.7641 15.2637 10.7642L15.1897 10.7524M15.2638 10.7639C15.2638 10.7638 15.2638 10.7637 15.2638 10.7637L15.1897 10.7524M15.2638 10.7639C15.2001 11.1819 15.0893 11.562 14.9308 11.9036C14.7706 12.2485 14.5478 12.5261 14.262 12.7343L14.2615 12.7346C13.9713 12.9428 13.6071 13.0442 13.1743 13.0442C12.9451 13.0442 12.7192 13.0071 12.4968 12.9329L12.4956 12.9325C12.2718 12.8537 12.0792 12.7258 11.9186 12.5495L11.9177 12.5485L11.9177 12.5485C11.7887 12.4014 11.7048 12.2174 11.6633 11.9997M15.1897 10.7524C15.127 11.1644 15.018 11.5376 14.8627 11.872C14.7075 12.2064 14.4925 12.4736 14.2178 12.6737C13.9431 12.8707 13.5953 12.9692 13.1743 12.9692C12.9534 12.9692 12.7354 12.9334 12.5205 12.8618C12.3085 12.7871 12.1264 12.6662 11.9741 12.499C11.8368 12.3425 11.7525 12.138 11.7213 11.8855C11.7032 11.9242 11.6838 11.9622 11.6633 11.9997M11.6633 11.9997C11.5726 12.165 11.4582 12.319 11.3204 12.4616L11.32 12.462C11.139 12.6461 10.9168 12.7918 10.6548 12.8997M11.6633 11.9997C11.6555 11.9586 11.6491 11.9163 11.6443 11.8728C11.5509 12.0667 11.4249 12.2455 11.2665 12.4094C11.0933 12.5856 10.8798 12.7259 10.6261 12.8304M11.6561 5.2707C12.1219 5.42894 12.5354 5.64988 12.8967 5.93352C13.2579 6.21417 13.5625 6.5426 13.8103 6.91879C14.0581 7.292 14.2462 7.69805 14.3746 8.13694C14.5059 8.57285 14.5716 9.02369 14.5716 9.48945C14.5716 10.1045 14.5239 10.6225 14.4283 11.0435M11.6561 5.2707L10.6261 12.8304M11.6561 5.2707C11.1933 5.11246 10.6798 5.03334 10.1155 5.03334C9.41687 5.03334 8.78241 5.15127 8.21215 5.38714C7.64189 5.62301 7.15074 5.96039 6.73872 6.39928L11.6561 5.2707ZM14.4283 11.0435L14.3552 11.0268C14.2614 11.437 14.1152 11.7393 13.9218 11.941L13.9218 11.9411C13.7346 12.1366 13.4907 12.2359 13.1833 12.2359C12.9321 12.2359 12.761 12.1561 12.6533 12.0078C12.5431 11.8488 12.4835 11.6212 12.4835 11.3167V7.16511V7.09011H12.4085H11.6785H11.6035V7.16511V7.75548C11.5245 7.63092 11.4219 7.51647 11.2966 7.41203C11.1087 7.25548 10.8816 7.1377 10.6168 7.0576C10.3501 6.97393 10.0601 6.94344 9.74762 6.96488L9.7475 6.96489C9.39726 6.98947 9.06935 7.08021 8.76449 7.23727C8.46017 7.39404 8.19431 7.60464 7.9672 7.86858L7.96687 7.86896C7.74271 8.13304 7.56676 8.44098 7.43857 8.79195L7.43838 8.79249C7.31278 9.14479 7.25041 9.52812 7.25041 9.94178C7.25041 10.3694 7.30652 10.7694 7.41934 11.1414L7.41939 11.1416C7.53221 11.5105 7.69577 11.8366 7.91062 12.119L7.91094 12.1194C8.12927 12.4023 8.39274 12.6258 8.70101 12.7892L8.70129 12.7893C9.01409 12.9535 9.36447 13.0395 9.75097 13.0487M14.4283 11.0435C14.3328 11.4615 14.182 11.778 13.976 11.9929L11.2252 15.6139M14.4283 11.0435L14.3552 11.0269C14.4491 10.6131 14.4966 10.1011 14.4966 9.48945C14.4966 9.03085 14.432 8.58731 14.3028 8.15858L14.3026 8.158C14.1763 7.7262 13.9913 7.32706 13.7478 6.96028L13.7476 6.96005C13.5044 6.59082 13.2055 6.26844 12.8507 5.99275L12.8503 5.99251C12.4962 5.71446 12.0903 5.49742 11.632 5.34171L11.6319 5.34167C11.178 5.18647 10.6728 5.10834 10.1155 5.10834C9.42541 5.10834 8.80087 5.2248 8.24082 5.45645C7.68019 5.68833 7.19801 6.01964 6.79349 6.45052C6.39192 6.88144 6.08202 7.3965 5.86426 7.99681L5.86422 7.99692C5.64671 8.5936 5.53735 9.26099 5.53735 10C5.53735 10.7481 5.64675 11.4215 5.86426 12.0211C6.08191 12.6211 6.39456 13.1329 6.80172 13.5577C7.21183 13.9824 7.7072 14.3094 8.2889 14.5386C8.86999 14.7675 9.52626 14.8827 10.2588 14.8827C10.5822 14.8827 10.8996 14.8504 11.2109 14.7857L11.2117 14.7856C11.5282 14.7235 11.8141 14.6468 12.0698 14.5556L12.0701 14.5556C12.3306 14.4638 12.5383 14.3743 12.6945 14.2875L12.7714 14.2449L12.8014 14.3274L13.0298 14.9544L13.052 15.0153L12.995 15.0461C12.7691 15.1682 12.502 15.2788 12.1942 15.3784C11.8889 15.4781 11.5659 15.5566 11.2252 15.6139M9.75097 13.0487C9.75089 13.0487 9.75081 13.0487 9.75073 13.0487L9.75275 12.9737L9.75097 13.0487ZM9.75097 13.0487C10.0905 13.0579 10.3924 13.009 10.6548 12.8997M10.6548 12.8997C10.6548 12.8997 10.6549 12.8997 10.6549 12.8996L10.6261 12.8304M10.6548 12.8997C10.6547 12.8997 10.6547 12.8997 10.6546 12.8998L10.6261 12.8304M11.6696 11.8183V11.822L11.6678 11.8222C11.6684 11.8209 11.669 11.8196 11.6696 11.8183ZM11.6696 11.8183L11.6767 11.8214L11.7143 11.8183M11.6696 11.8183H11.7143M11.7143 11.8183V11.8382L11.7162 11.839C11.7155 11.8321 11.7149 11.8252 11.7143 11.8183ZM11.2252 15.6139C10.887 15.6712 10.5574 15.7 10.2364 15.7C9.37484 15.7 8.59816 15.5674 7.90748 15.3009C7.21721 15.0344 6.62718 14.6494 6.13851 14.1456L6.19235 14.0934M11.2252 15.6139L6.19235 14.0934M8.73614 12.7229C8.43757 12.5647 8.18229 12.3482 7.97031 12.0735L8.73614 12.7229ZM11.2262 14.8592C11.5456 14.7965 11.8353 14.7188 12.095 14.6263L11.2262 14.8592ZM11.4299 11.1496L11.4297 11.1501C11.2942 11.4903 11.094 11.7478 10.8303 11.9264C10.5675 12.1044 10.2411 12.1956 9.8468 12.1956C9.46442 12.1956 9.14906 12.0911 8.89571 11.8857C8.64116 11.674 8.44684 11.3956 8.31364 11.0483C8.1828 10.6993 8.11697 10.3187 8.11697 9.90595C8.11697 9.5188 8.19111 9.16545 8.3384 8.84478C8.48876 8.52391 8.69439 8.27011 8.95483 8.08121L8.95495 8.08113C9.21586 7.89112 9.5196 7.79544 9.8692 7.79544C10.2347 7.79544 10.5467 7.87224 10.8081 8.02279L10.8081 8.02279L10.8089 8.02326C11.0712 8.16991 11.2744 8.39601 11.4179 8.70587L11.4181 8.70639C11.5642 9.01566 11.6393 9.41429 11.6393 9.90595C11.6393 10.3947 11.5686 10.8085 11.4299 11.1496Z",stroke:"black","stroke-opacity":"0.9","stroke-width":"0.15"}))}var L=n(44173);let M=/(\d+)\snew\s(comment(?:s)?|repl(?:y|ies)|reaction(?:s)?)\s(?:and\s(\d+)\snew\s(comment(?:s)?|repl(?:y|ies)|reaction(?:s)?)\s)?/,F=/<b>(.*?)<\/b>.*?(?=\s*in\s)/,U=/made you (an? )?(\w+)/i,B=/<b>(.*?)<\/b>/g;function W(e){let{avatars:t,notification_type:n}=e;return 0===t.length?null:t.length>1?i.createElement("div",{className:L.e0},i.createElement("div",{className:L.uX},i.createElement(b.HH,{block:t[1],size:I.Pf.MEDIUM28})),i.createElement("div",{className:L.SH},i.createElement(b.HH,{block:t[0],size:I.Pf.MEDIUM28})),i.createElement("div",{className:L.Kk},n&&y(n))):i.createElement(i.Fragment,null,i.createElement("div",{className:L.e0},i.createElement(b.HH,{block:t[0],size:I.Pf.LARGE40}),i.createElement("div",{className:L.Kk},n&&y(n))))}function H(e){let{attachment:t,notification:n}=e,l=t.body;return i.createElement("div",{className:L.hQ},i.createElement("div",null,function(e,t){if(!e)return null;let n={html_text:"",_block_type:"HtmlTextBlock"},l={html_text:"",_block_type:"HtmlTextBlock"},a={html_text:"",_block_type:"HtmlTextBlock"};return e.map(e=>{if("HtmlTextBlock"===e._block_type){let i=e.html_text.match(F),r=e.html_text.match(B)||[];if(i&&"BatchedFileCommentNotif"===t){let e=i[0].trim();""===n.html_text&&(n={html_text:e}),l={html_text:r[r.length-1].replace(/<\/?b>/g,"")}}else if(t&&Y.includes(t)){if(r.length>=3){""===n.html_text&&(n={html_text:r[0]});let e=r[r.length-1].replace(/<\/?b>/g,""),t=r[r.length-2].replace(/<\/?b>/g,"");l={html_text:`${t} -> ${e}`}}}else""===n.html_text&&(n={html_text:r[0]}),l={html_text:r[r.length-1].replace(/<\/?b>/g,"")};a=t&&function(e,t){switch(e){case"AtMentionCommentNotif":case"CanvasAtMentionNotif":case"AtMentionInviteNotif":case"FeedPostAtMention":return{html_text:"Mentioned you"};case"FileCommentReplyNotifV2":return{html_text:"Replied"};case"FileCommentReactionNotifV2":case"FeedCommentReactionNotifV":case"FeedPostReactionNotifV2":return{html_text:"Reacted"};case"FileCommentNotifV2":case"FeedPostCommentNotifV2":return{html_text:"Commented"};case"MergeRequestReviewerInviteNotif":return{html_text:"Requested review"};case"MergeRequestChangesRequestedNotif":return{html_text:"Suggested changes"};case"BranchMergedNotif":return{html_text:"Merged"};case"MergeRequestApprovedNotif":return{html_text:"Approved branch"};case"InviteFolderNotif":case"InviteFileNotif":case"InviteTeamNotif":case"InviteFileRepoNotif":case"InviteFileReminderNotif":let n=t.match(U);if(n&&n.length>2)return{html_text:`Made you ${n[2]}`};if(t.includes("shared"))return{html_text:"Shared"};return{html_text:"Invited you"};case"FileRoleRequestCreatedNotif":let i=t.includes("edit")?"edit":"view";return{html_text:t.includes("wants")?`Requested ${i} access`:`Can now ${i}`};case"FileRoleRequestApprovedNotif":return{html_text:t.includes("edit")?"You can edit":"You can view"};case"BatchedFileCommentNotif":case"BatchedFeedCommentReactionNotif":let l=t.match(M),a="";if(l){let e=l[1],t=l[2];if(a=`${e} ${t}`,l[3]){let e=l[3],t=l[4];a+=` and ${e} ${t}`}}return{html_text:a}}}(t,e.html_text)||a}}),i.createElement(i.Fragment,null,i.createElement("div",{className:L.Zc},i.createElement(b.An,{block:n})),i.createElement("div",{className:L.Zc},i.createElement(b.An,{block:a})," \xb7 ",i.createElement(b.An,{block:l})))}(l.title,n.notification_type)),l.description&&i.createElement("div",{className:L.Ec},i.createElement("span",{className:L.gv},(0,b.A_)(function(e){if(!e)return[];let t=e.find(e=>"ReacjiBlock"===e._block_type);return t?[t,{html_text:" to: ",_block_type:"HtmlTextBlock"}]:[]}(l.title))),(0,b.A_)(l.description)))}function V(e){let{notification:t,createdAt:n}=e,l=function(e){if(e.includes("just now"))return"now";let t=e.split(" "),n=t[0],i=t[1].charAt(0);return"mo."===t[1]&&(i+="o"),`${n}${i}`}((0,w.Ak)(n,"short"));return i.createElement("div",{className:L.sU},i.createElement("div",{className:L.vE},l),t.is_unread?i.createElement("div",{className:L.bm}):null,i.createElement(W,{avatars:t.avatars,notification_type:t.notification_type}),e.children)}function G(e){let{attachment:t,notification:n}=e;return i.createElement(V,{notification:n,createdAt:t.body.created_at},i.createElement(H,{attachment:t,notification:n}))}function j(e){let{attachment:t,notification:n}=e,{shouldShowChevron:l}=i.useContext(C.H);return i.createElement(V,{notification:n,createdAt:t.body.created_at},i.createElement(H,{attachment:t,notification:n}),l(n)&&i.createElement(N.B,{svg:b.sE,style:T.sx.absolute.hFull.flex.itemsCenter.add({right:"-16px",height:"100%",fill:"var(--color-icon)"}).$}))}function z(e){let{attachment:t,notification:n,actionBlockCallbacks:l}=e;return i.createElement(i.Fragment,null,i.createElement(V,{notification:n,createdAt:t.body.created_at},i.createElement(H,{attachment:t,notification:n})),i.createElement($,{block:t.actions,actionBlockCallbacks:l}))}function $(e){let{block:t,actionBlockCallbacks:n}=e;return i.createElement("div",{className:L.yT},i.createElement(b.sv,{block:t.secondary_action,callbacks:n,isPrimary:!1}),i.createElement(b.sv,{block:t.primary_action,callbacks:n,isPrimary:!0}))}let Y=["MergeRequestReviewerInviteNotif","MergeRequestChangesRequestedNotif","BranchMergedNotif","MergeRequestApprovedNotif"],q=[...Y,"AtMentionCommentNotif","CanvasAtMentionNotif","AtMentionInviteNotif","FeedPostAtMention","FileCommentReplyNotifV2","FileCommentReactionNotifV2","FeedPostCommentNotifV2","FeedCommentReactionNotifV","FeedPostReactionNotifV2","FileCommentNotifV2","InviteFolderNotif","InviteFileNotif","InviteTeamNotif","InviteFileRepoNotif","InviteFileReminderNotif","FileRoleRequestCreatedNotif","FileRoleRequestApprovedNotif","BatchedFileCommentNotif","BatchedFeedCommentReactionNotif"];var Q=n(211490);function Z(e){let t=e.preferred_attachments.find(e=>_.pw.BlockKit.Block.ATTACHMENT_TYPES.has(e._block_type));if(void 0===t)throw Error(`Unable to render attachment. Hiding notification ${e.notification_id}`);return t}function K(e){let t;let n=(0,l.wA)(),[_,w]=(0,i.useState)(!1),N=(0,l.Pj)(),T=(0,d.sZ)(),I=(0,l.d4)(e=>e.selectedView.view),y=(0,u.FC)(),{onClick:R,onMouseEnter:k,onMouseMove:P}=i.useContext(C.H),A=(0,v.ro)(),D=e.notification;try{t=Z(e.notification)}catch(e){return console.error(`Unsupported Notification: ${e}`),null}let O=()=>{var t;if(D.deeplink){let i=D.deeplink.href;if(i.includes("project")){let t=i.split("project/")[1];(0,s.xr)("file_browser_folder_click",t,null,y,{selectedView:"notifications",planFilterId:e.currentPlanFilter===Q.aT?null:e.currentPlanFilter})}else if(i.includes("team")){let t=i.split("team/")[1];(0,s._J)("file_browser_team_click",t,y,{selectedView:"notifications",planFilterId:e.currentPlanFilter===Q.aT?null:e.currentPlanFilter})}else if(i.includes("file/")){let t=i.split("file/")[1].split("/")[0];n(c.UN({fileKey:t,entrypoint:"notifications",currentPlanFilter:{planId:e.currentPlanFilter===Q.aT?void 0:e.currentPlanFilter||void 0}}))}if(n(o.oB()),D.deeplink.use_unsafe)E.Ay.unsafeRedirect(i,p.eD?void 0:"_blank");else if(e.inDesktopTray)E.Ay.redirect(i);else{let e=new URL(i);try{let l=(0,m.vU)(N.getState(),e.pathname);if("teamFeed"===l.view){T&&(null==(t=D.plan)?void 0:t.id.toString())===T.id?n(o.$T(l)):E.Ay.redirect(i,p.eD?void 0:"_blank");return}E.Ay.redirect(i,p.eD?void 0:"_blank");return}catch{E.Ay.redirect(i,p.eD?void 0:"_blank")}}}},S=e=>{e.stopPropagation()},x=()=>{w(!0),e.onHide&&e.onHide()},M=e=>"resolve"===e?g.Ay.put("/api/user_notifications",{id:D.notification_id,resolved_at:"true",currentView:I,medium:p.S8?"desktop_bell":"web"}):g.Ay.put("/api/user_notifications",{id:D.notification_id,rejected_at:"true",currentView:I,medium:p.S8?"desktop_bell":"web"}),F=(t,n)=>{try{switch(t._block_type){case"ActionableAttachment":{let l={updateNotification:e.updateNotificationCallback,hideNotification:x,followLinkIfPossible:O,buildNotificationActionRequest:M};return i.createElement(b._1,{attachment:t,notification:n,actionBlockCallbacks:l})}case"ClientActionableAttachment":return i.createElement(b.Pl,{attachment:t,notification:n});case"BodyAndThumbnailAttachment":case"BodyAttachment":return i.createElement(b._2,{attachment:t,notification:n,dontShowPlanIcon:e.dontShowPlanIcon})}}catch(e){console.error(`Unable to render attachment: ${t}`),x()}};return!_&&i.createElement("div",{className:A?L.Li:L.qd,onClick:i=>{(0,a.sx)("file_browser_notification_clicked",{notification_id:D.notification_id,notification_type:D.notification_type,actionable:"ActionableAttachment"===t._block_type,selectedView:I,plan_filter:e.currentPlanFilter}),S(i);let l=R(D);"ActionableAttachment"!==t._block_type&&M("resolve").then(({data:t})=>{if(l||O(),t.meta.updated_notification_blob){let n=t.meta.updated_notification_blob;e.updateNotificationCallback(n.notification_id,n)}},e=>{n(f.s.error((0,h.t)("user_notification.an_error_occurred_while_clicking_this_notification")))})},onMouseDown:S,onMouseEnter:e=>{k(e,D)},onMouseMove:e=>{P(e)}},(0,r.kc)().structured_view_notifications?((t,n)=>{try{var l,a;if(l=n.notification_type,q.includes(l)&&(null==(a=(0,r.Ay)().user_data)?void 0:a.locale)==="en")switch(t._block_type){case"ActionableAttachment":{let l={updateNotification:e.updateNotificationCallback,hideNotification:x,followLinkIfPossible:O,buildNotificationActionRequest:M};return i.createElement(z,{attachment:t,notification:n,actionBlockCallbacks:l})}case"ClientActionableAttachment":return i.createElement(j,{attachment:t,notification:n});case"BodyAndThumbnailAttachment":return i.createElement(G,{attachment:t,notification:n,dontShowPlanIcon:e.dontShowPlanIcon})}else F(t,n)}catch(e){console.error(`Unable to render attachment: ${t}`),x()}})(t,D):F(t,D))||null}},211490:(e,t,n)=>{n.d(t,{aT:()=>E,jy:()=>f,gN:()=>g});var i=n(411855),l=n(109388),a=n(188507),r=n(480201),o=n(487644),c=n(402791),s=n(21122),d=n(757358);let u="notifs_plan_filter--boldTitle---Yao3",m="notifs_plan_filter--autoTruncate--JBaGp ellipsis--ellipsis--Tjyfa";var _=n(783423),p=n(533600);let E="ALL_PLANS_FILTER";function g(e,t){return e.length>t?e.slice(0,t-3)+"...":e}function f({currentPlanFilter:e,onPlanFilterUpdate:t}){var n;let[f,h]=i.useState(!1),v=(0,i.useRef)(null),C=(0,i.useRef)(null),b=(0,s.iZ)(),w=(0,a.d4)(e=>{var t;return b?null==(t=e.authedUsers.byId[b.id])?void 0:t.plans:null});if(!b||!w||w.length<=1)return i.createElement("span",{className:u},(0,c.t)("user_notification.all_notifications"));let N=w.map(e=>e.plan_id);N.unshift(E);let T=(e,t)=>e===E?(0,c.t)("user_notification.all_notifications"):t[e],I=w.reduce((e,t)=>(e[t.plan_id]=t.name,e),{}),y=(e,n)=>{e.stopPropagation(),t(n),h(!1)},R=N.map(t=>i.createElement(r.W.Option,{key:t,onClick:e=>{y(e,t)}},t===e&&i.createElement(o.B,{svg:p.A}),i.createElement("span",{className:`${t===e?"notifs_plan_filter--planNameChecked--DRs5Z":"notifs_plan_filter--planNameUnchecked--j9H7f"} ${m}`},T(t,I))));return i.createElement("div",{className:"notifs_plan_filter--planFilterContainer--btOEf",ref:v},i.createElement("div",null,i.createElement("button",{ref:C,onClick:()=>{h(!f)},className:"notifs_plan_filter--dropdownButton--sKKXq"},i.createElement("span",{className:[u,m].join(" ")},g(T(e,I),35)),i.createElement(o.B,{svg:_.A,className:"notifs_plan_filter--chevronIcon--WGm81"})),C.current&&f&&i.createElement(d.Cf,{targetRect:null==(n=l.findDOMNode(C.current))?void 0:n.getBoundingClientRect(),type:d.it.DEFAULT,lean:"right",minWidth:120,disableDropdownScrollContainer:!0,closeDropdown:()=>h(!1)},R)))}},445566:(e,t,n)=>{let i;n.d(t,{P:()=>L,v:()=>D});var l=n(411855),a=n(188507),r=n(539321);if(443==n.j)var o=n(395096);var c=n(169614),s=n(216817),d=n(796695),u=n(480201),m=n(548891),_=n(911060),p=n(467066),E=n(917679),g=n(487644),f=n(402791),h=n(983245),v=n(664080),C=n(296707),b=n(113420),w=n(947680),N=n(453144),T=n(752503),I=n(430046),y=n(757358),R=n(780634);if(443==n.j)var k=n(949207);if(443==n.j)var P=n(156238);if(443==n.j)var A=n(432023);var D=((i=D||{}).LOADED="post-to-feed-view-loaded",i.SELECT_NODE="post-to-feed-select-node",i);function O(e){return l.createElement("div",{className:null!==e.isSelectedIdx?R.El:R.Vs,onClick:e.onClick,role:"button",tabIndex:0,ref:t=>{t&&e.observe(t)},"data-observer-guid":e.node.guid},l.createElement("div",{className:R.h3,style:{backgroundColor:e.backgroundColor}},l.createElement(_.x,{isLoading:!e.thumbnailUrl},()=>l.createElement("img",{className:R.xn,src:e.thumbnailUrl,alt:"",draggable:!1}))),l.createElement("div",{className:R.JO},l.createElement("div",{className:R.qp},e.node.name)),null!==e.isSelectedIdx&&1!==e.totalNumSelected&&l.createElement("div",{className:R.Jx},e.isSelectedIdx+1))}function S(e){let{toggleSelectNode:t}=e,n=(e.pageNode&&(0,r.colorToHex)(e.pageNode.backgroundColor))??"",[i,a]=l.useState(!1),o=l.useCallback(i=>{t(i,{pageId:e.pageNode.guid,pageBackgroundColor:n})},[t,e.pageNode.guid,n]);return l.createElement("div",{className:R.RW},e.showCollapsibleHeader&&l.createElement("div",{className:R.Vr,onClick:()=>a(e=>!e),role:"button",tabIndex:0},i?l.createElement(g.B,{svg:A.A,className:R.Rq}):l.createElement(g.B,{svg:k.A,className:R.Rq}),e.pageNode.name,"\xa0",l.createElement("span",{className:R.Du},"\xb7 ",e.nodes.length)),!i&&l.createElement("div",{className:R.Mc},e.nodes.map(t=>{var i,a,r;let c=(null==(i=e.selectedNodeGuids)?void 0:i.indexOf(t.guid))??null;return l.createElement(O,{key:`node-${t.guid}`,node:t,thumbnailUrl:(null==(a=e.thumbnailByGuid[t.guid])?void 0:a.url)??"",backgroundColor:n,isSelectedIdx:-1===c?null:c,onClick:()=>o(t.guid),totalNumSelected:(null==(r=e.selectedNodeGuids)?void 0:r.length)??null,observe:e.observe})})))}let x="feed-post-page-selector-menu";function L(){let e=l.useCallback((e,t)=>{let n=window.parent;window.self.origin===n.origin&&n&&n.postMessage({type:e,data:t})},[]),t=l.useRef(new d.jk("feed_post_to_file_load",{}));l.useEffect(()=>{t.current.start()},[]);let n=(0,w.aV)(),i=(0,w.eY)(),r=(0,a.d4)(e=>{var t;return null==(t=e.openFile)?void 0:t.key});l.useEffect(()=>{if(!n){t.current.stop();let n=t.current.getElapsedTime();(0,c.sx)("team_feed.post_from_file.file_load",{elapsedMs:n,fileKey:r}),e("post-to-feed-view-loaded",!0)}},[n,e,r]);let _=(0,a.d4)(e=>e.mirror.appModel.pagesList),k=l.useMemo(()=>_.reduce((e,t)=>({...e,[t.nodeId]:i.get(t.nodeId)}),{}),[_,i]),A=(0,a.wA)(),D=l.useMemo(()=>Object.values(k).flatMap(e=>e?e.uiOrderedChildren.map(t=>{let n=i.get(t);return n&&("FRAME"===n.type||"SECTION"===n.type)?{...n,pageId:e.guid,name:null==n?void 0:n.name}:null}).filter(e=>e):[]).filter(e=>null!==e),[k,i]),O=l.useMemo(()=>{let e={};for(let t of D)e[t.pageId]?e[t.pageId].push(t):e[t.pageId]=[t];return e},[D]),L=l.useMemo(()=>new N.Ef(D,{keys:["name"]}),[D]),[M,F]=l.useState(""),[U,B]=l.useState(null),[W]=(0,o.A)(M,200),H=l.useCallback(e=>{B(L.search(e))},[L]),V=l.useMemo(()=>{if(null===U)return null;let e={};for(let t of U)e[t.pageId]?e[t.pageId].push(t):e[t.pageId]=[t];return e},[U]);l.useEffect(()=>{""!==W&&H(W)},[W,H]);let G=(0,b.U)(),j=l.useRef(null),[z,$]=l.useState(null);l.useEffect(()=>{if(z||!i||!O||0===Object.keys(O).length)return;let e=i.get(Object.keys(O)[0]);e&&$(e)},[z,O,i]);let[Y,q]=l.useState({}),[Q,Z]=l.useState([]),K=(0,s.Z)(Q),X=l.useRef(null),[J,ee]=l.useState([]),et=l.useCallback(e=>{let t=[];e.forEach(e=>{var n;if(e.isIntersecting&&e.target instanceof HTMLElement){let i=null==(n=e.target.dataset)?void 0:n.observerGuid;i&&t.push(i)}}),ee(t)},[]),en=l.useMemo(()=>new IntersectionObserver(et,{threshold:[.25]}),[et]),ei=l.useCallback(e=>{en&&en.observe(e)},[en]),[el,ea]=l.useState({});l.useEffect(()=>{if(0===J.length)return;let e=J.filter(e=>!el[e]);0!==e.length&&(0,C.Jr)().loadAllImagesUnder(e,v.MoD.NON_ANIMATED_ONLY,"feed.postFromFile").then(()=>{e.forEach(e=>{setTimeout(()=>{ea(t=>{if(t[e])return t;let n=(0,I.BO)(e);return{...t,[e]:{url:URL.createObjectURL(new Blob([n])),data:n}}})},0)})})},[J,el]),l.useEffect(()=>{Q!==K&&e("post-to-feed-select-node",Q.map(e=>({guid:e,thumbnail:el[e].data,backgroundColor:Y[e]})))},[K,Q,e,el,Y]);let er=l.useCallback((e,t)=>{el[e]&&(q(n=>t.pageBackgroundColor?{...n,[e]:t.pageBackgroundColor}:n),Z(t=>t.includes(e)?t.filter(t=>e!==t):t.length>=T.e3?t:[...t,e]))},[el]);return O&&0===Object.keys(O).length?l.createElement("div",{className:R.se},(0,f.t)("fig_feed.no_top_level_nodes")):z?l.createElement("div",{className:R.kL},l.createElement("div",{className:R.Y},l.createElement(E.IW,{query:M,className:R.ON,onChange:F,clearSearch:()=>{F(""),B(null)},focusOnMount:!1,iconClassName:R.qc,placeholder:(0,f.t)("fig_feed.search_frames")}),""===M&&l.createElement(l.Fragment,null,l.createElement("div",{role:"button",ref:j,onClick:()=>{(null==G?void 0:G.type)===x?A(h.oB()):A(h.j7({type:x}))},tabIndex:0,className:R.YZ},l.createElement("div",null,z.name),l.createElement(g.B,{svg:P.A,width:"8px",autosize:!0})),j.current&&(null==G?void 0:G.type)===x&&l.createElement(y.Cf,{showPoint:!1,targetRect:j.current.getBoundingClientRect(),propagateCloseClick:!0},Object.keys(O).map(e=>l.createElement(u.W.CheckableOption,{key:e,onClick:()=>$(k[e]),checked:z.guid===e},k[e].name))))),l.createElement(p.P,{hideScrollbar:!0,className:R.jG,innerClassName:R.hu,scrollContainerRef:X},""===M&&l.createElement(S,{pageNode:z,nodes:O[z.guid]||[],thumbnailByGuid:el,selectedNodeGuids:Q,toggleSelectNode:er,observe:ei}),""!==M&&(null===V?l.createElement("div",{className:R.Do},l.createElement(m.kt,{size:"large"})):Object.entries(V).length>0?Object.entries(V).map(([e,t])=>l.createElement(S,{key:e,pageNode:k[e],nodes:t,thumbnailByGuid:el,selectedNodeGuids:Q,toggleSelectNode:er,showCollapsibleHeader:!0,observe:ei})):l.createElement("div",{className:R.Lp},l.createElement("div",null,l.createElement(f.Tx,{id:"fig_feed.no_frames_matching",searchQuery:l.createElement(l.Fragment,null,l.createElement("span",{className:R.ZF},M))})))))):null}},884053:(e,t,n)=>{n.d(t,{f:()=>E});var i=n(411855),l=n(989368),a=n(487644),r=n(402791),o=n(495856),c=n(117276),s=n(736176),d=n(579038),u=n(794412),m=n(110354);function _(e){return i.createElement("div",{className:"detail_engagement_row--engagementItem--Kpp0Y","data-tooltip":e["data-tooltip"],"data-tooltip-type":e["data-tooltip-type"],"data-tooltip-show-immediately":e["data-tooltip-show-immediately"]},e.children)}function p(){return i.createElement("div",{className:"detail_engagement_row--engagementDivider--t0laO"})}function E({resource:e}){let t=e.unique_run_count??0,n=(0,s.PM)(e),E=(0,s.zF)(e),g=(()=>{if(n)return i.createElement(o.Cg,{resource:e});if(E)return i.createElement(o.Gb,null);let t=(0,c.Lt)({resource:e,payment:e.community_resource_payment});return e.monetized_resource_metadata&&t?i.createElement(o.sw,{metadata:e.monetized_resource_metadata}):null})(),f=(0,l.$M)(t),h=(0,l.$M)(e.like_count);return i.createElement("div",{className:"detail_engagement_row--detailEngagementRow--JLmtH"},i.createElement(_,{"data-tooltip":(0,r.t)("community.try.people_like_this",{numPeople:e.like_count,numPeopleStr:h}),"data-tooltip-type":d.Ib.TEXT},i.createElement(a.B,{svg:m.A}),h),i.createElement(p,null),i.createElement(_,{"data-tooltip":(0,r.t)("community.try.people_use_this",{numPeople:t,numPeopleStr:f}),"data-tooltip-type":d.Ib.TEXT},i.createElement(a.B,{svg:u.A}),f),!!g&&i.createElement(i.Fragment,null,i.createElement(p,null),i.createElement(_,null,g)))}},132708:(e,t,n)=>{n.d(t,{A:()=>u});var i=n(411855),l=n(188507),a=n(904779),r=n(959875),o=n(884096),c=n(142773),s=n(102068),d=n(17076);function u({localResource:e,publishedResource:t}){let{error:n,localFilePath:l}=e||{},r=(0,s.Pt)(null==n?void 0:n.type,e);if(!e&&t)return i.createElement(_,{resource:t});if(!e||null==l)return null;if(!n)return i.createElement(a.R,{className:d.cV,text:l.replace("/manifest.json","")});if(!r)return null;let{action:c,msg:u,buttonText:p}=r;return i.createElement(i.Fragment,null,i.createElement(o.E,{color:"danger"},u),i.createElement(m,{onClick:c,isError:!0},p))}function m({children:e,onClick:t,isError:n}){return i.createElement("button",{onClick:e=>{e.stopPropagation(),t()},className:r.cx.underline.bgTransparent.with({colorTextDanger:n,colorTextSecondary:!n}).$},e)}function _({resource:e}){let t=(0,l.wA)();return i.createElement("div",{className:d.cV},i.createElement(m,{onClick:()=>{t((0,c.JZ)({resourceType:e.is_widget?"widget":"plugin"}))}},i.createElement(o.E,{i18nId:"universal_insert.locate_local_version_text"})))}},541983:(e,t,n)=>{n.d(t,{JB:()=>p,PE:()=>f,R_:()=>_,WZ:()=>E,e2:()=>g});var i=n(411855),l=n(188507),a=n(821721),r=n(304913),o=n(402791),c=n(162122),s=n(884096),d=n(64226),u=n(633470);function m(e){return{...e.is_widget?{widget_id:e.id}:{plugin_id:e.id},src:d.Nn.INVITE_TILE}}function _(e){let t=(0,l.wA)(),n=m(e);return()=>t((0,d.dx)(n))}function p(e){let t=(0,l.wA)(),n=m(e);return()=>t((0,d.MZ)(n))}function E({resource:e}){let t=_(e),n=p(e);return i.createElement(c.Y,null,i.createElement(a.nR,{onClick:e=>{e.stopPropagation(),n()}},i.createElement(o.Tx,{id:"community.detail_view.decline"})),i.createElement(r.$$,{onClick:e=>{e.stopPropagation(),t()}},i.createElement(o.Tx,{id:"community.detail_view.accept"})))}function g({resource:e}){let t=(0,u.uF)(e),n=e.creator,l=e.is_widget?"widget":"plugin",a=`/community/${l}/${e.id}`;return i.createElement(s.E,null,i.createElement(o.Tx,{id:"universal_insert.invited_you_to_publish",ownerName:i.createElement(s.E,{fontWeight:"bold"},n.handle),resourceName:i.createElement(r.CY,{href:a,onClick:e=>{e.stopPropagation()},target:"_blank",trusted:!0},i.createElement(s.E,{fontWeight:"bold"},t.name))}))}function f({resource:e}){return i.createElement(c.Y,{direction:"vertical"},i.createElement(g,{resource:e}),i.createElement(E,{resource:e}))}},761938:(e,t,n)=>{n.d(t,{ak:()=>U,cH:()=>B,xl:()=>F});var i=n(411855),l=n(188507),a=n(611464),r=n(709955),o=n(480201),c=n(619258),s=n(548891),d=n(467066),u=n(487644),m=n(402791),_=n(142773),p=n(988533),E=n(705715),g=n(165077),f=n(220485),h=n(204927),v=n(141106),C=n(368480),b=n(113420),w=n(553227),N=n(776871),T=n(633470),I=n(856348),y=n(736176),R=n(566046),k=n(136701),P=n(757358),A=n(884053),D=n(493334),O=n(640439),S=n(298742),x=n(905618),L=n(687348);if(443==n.j)var M=n(270951);function F(e){let t=(0,l.d4)(e=>e.universalInsertModal),n=e.id,_=(0,l.d4)(e=>e.publishedWidgets[n]),R=(0,h.gn)(_),x=(0,l.wA)(),F=Object.values((0,f.yQ)()).find(t=>t.plugin_id===e.id),W=!!(0,f.bh)().find(t=>t.id===e.id)&&!F,H=(0,l.d4)(e=>{var t,n;return null==(n=null==(t=e.dropdownShown)?void 0:t.data)?void 0:n.targetRect}),V=(0,b.U)(),G=(null==V?void 0:V.type)===B&&V.data.widgetId===n,j=(0,O.cX)().currentTab,z=(0,I.V)(j),$=(0,w.Kx)(),Y=(null==$?void 0:$.shouldOptimizeForIpadApp)||(0,a.kc)().cmty_m10n_test_apple_os;i.useEffect(()=>{_||x(p.af({id:n,resourceType:y.bD.WIDGET}))},[n,x,_]);let q=(0,S.b)();if((0,N.oh)(p.af.loadingKeyForPayload({id:n,resourceType:y.bD.WIDGET}))&&!_)return i.createElement(s.kt,{className:L.S});if(!_)return null;let Q=(0,T.uF)(_);return i.createElement(g.fu,{name:"detail",properties:{resourceId:e.id,isMonetized:(0,y.m3)(_),resourceType:y.bD.WIDGET,editorType:"figjam"}},i.createElement(d.P,{height:(0,O.mS)(t.pinned,500,O.s3)},i.createElement("div",{className:L.tJ},R&&i.createElement(D.cu,null),i.createElement("img",{className:e.onInsertableWidgetMouseDown?void 0:L.VM,onMouseDown:t=>{var n;return null==(n=e.onInsertableWidgetMouseDown)?void 0:n.call(e,t,Q)},src:Q.redirect_cover_image_url||"",alt:`${Q.name}`,width:C.gR,height:C.gR/2}),i.createElement("div",{className:L.oQ},i.createElement(A.f,{resource:_})),i.createElement("div",{className:L.h_},i.createElement(r.R,{fallback:null,errorFallback:null,value:Q.description})))),!Y&&i.createElement(c.N,{className:L.P0,href:`/community/widget/${n}`,target:"_blank",trusted:!0},i.createElement(u.B,{svg:M.A,className:L.JX}),i.createElement(m.Tx,{id:"whiteboard.inserts.see_more_details_in_community"})),G&&H&&i.createElement(P.Cf,{targetRect:H,lean:"left",minWidth:120,maxWidth:190,disableDropdownScrollContainer:!0,propagateCloseClick:!0},(null==F?void 0:F.error)||W?i.createElement(o.W.Option,{onClick:()=>{F&&F.error?x((0,E.to)({type:k.r,data:{error:F.error,dispatch:x,resourceType:y.bD.WIDGET},showModalsBeneath:!0})):x((0,E.to)({type:U,data:{dispatch:x},showModalsBeneath:!0}))}},i.createElement(m.Tx,{id:"whiteboard.inserts.in_development_version_error_dropdown"})):i.createElement(o.W.Option,{onClick:()=>{(0,v.j)({pluginID:Q.plugin_id,widgetName:Q.name,pluginVersionID:"",triggeredFrom:z}),q()}},i.createElement(m.Tx,{id:"whiteboard.inserts.in_development_version_dropdown"})),i.createElement(o.W.Option,{onClick:()=>{(0,v.j)({pluginID:Q.plugin_id,widgetName:Q.name,pluginVersionID:Q.id,triggeredFrom:z}),q()}},i.createElement(m.Tx,{id:"whiteboard.inserts.published_version_dropdown"}))))}let U=(0,R.Ju)(function({dispatch:e}){return i.createElement(x.Rw,{confirmationTitle:(0,m.t)("whiteboard.inserts.widget_development_error_modal_title"),content:(0,m.t)("whiteboard.inserts.widget_development_error_modal_description"),onConfirm:()=>{e(_.JZ({resourceType:"widget"})),e(E.Lo())},confirmText:(0,m.t)("whiteboard.inserts.widget_development_import_manifest"),size:"small",disableClickOutsideToHide:!0,hideOnConfirm:!1,cancelText:(0,m.t)("whiteboard.inserts.widget_development_error_modal_close"),hideCancel:!1,popStack:!0})},"FigjamPublishedDevelopmentWidgetErrorModal",R.ZU.YES),B="DROPDOWN_TYPE_WIDGET_DETAIL_SUBMENU"},819076:(e,t,n)=>{n.d(t,{EJ:()=>x,Gq:()=>O,NR:()=>P,T9:()=>M,_n:()=>S,lD:()=>F,ms:()=>U,yW:()=>L});var i=n(411855),l=n(188507),a=n(42821),r=n(611464),o=n(480201),c=n(402791),s=n(142773),d=n(474724),u=n(705715),m=n(102068),_=n(220485),p=n(141106),E=n(368480),g=n(113420),f=n(801199),h=n(633470),v=n(736176),C=n(944725),b=n(459911),w=n(328430),N=n(136701),T=n(196625),I=n(631044),y=n(98140),R=n(757358),k=n(761938);function P(e){let t=(0,l.wA)(),n=(0,_.ZT)()[e.widgetId],r=(0,h.uF)(n),s=(0,_.WK)(e.widgetId),d=(0,_.Ud)(e.widgetId),m=a.eD&&!!d&&!s;return i.createElement(R.Cf,{targetRect:e.targetRect,lean:e.lean||"left",minWidth:120,maxWidth:190,disableDropdownScrollContainer:!0,propagateCloseClick:!0},(null==s?void 0:s.error)||m?i.createElement(o.W.Option,{onClick:()=>{s&&s.error?t((0,u.to)({type:N.r,data:{error:s.error,dispatch:t,resourceType:v.bD.WIDGET},showModalsBeneath:!0})):t((0,u.to)({type:k.ak,data:{dispatch:t},showModalsBeneath:!0}))}},"\u26A0 ",i.createElement(c.Tx,{id:"universal_insert.in_development_version"})):i.createElement(o.W.Option,{onClick:()=>{(0,p.j)({pluginID:r.plugin_id,widgetName:r.name,pluginVersionID:"",triggeredFrom:"universal-insert"})}},i.createElement(c.Tx,{id:"universal_insert.in_development_version"})),i.createElement(o.W.Option,{onClick:()=>{(0,p.j)({pluginID:r.plugin_id,widgetName:r.name,pluginVersionID:r.id,triggeredFrom:"universal-insert"})}},i.createElement(c.Tx,{id:"universal_insert.published_version"})))}function A({pluginId:e,preferences:t}){let{pinnedPlugins:n,pinPlugin:i,unpinPlugin:l}=t;return n.find(t=>t.plugin_id===e)?{displayText:(0,c.t)("dev_handoff.inspect_panel.unpin"),callback:()=>{l(e)}}:{displayText:(0,c.t)("dev_handoff.inspect_panel.pin"),callback:()=>{i(e)}}}function D({plugin:e}){let{callback:t,isPluginSetToAutoRun:n}=(0,b.bE)(e??null);return(0,b.aY)(e)&&(0,r.kc)().dev_mode_auto_run_plugin?{displayText:(0,c.t)("dev_handoff.inspect_panel.auto_run"),callback:t,isChecked:n}:null}function O(e){let t=(0,l.wA)(),n=(0,g.U)(),a=(0,I.ks)(),r=(0,w.VR)(),o=(0,f.sZ)(),s=(0,_.ll)(),u=D({plugin:e.plugin}),m=i.useCallback(()=>{t(d.S({url:e.resourceType===v.vt.PLUGIN?(0,T.ab)(e.resourceId):(0,T.ox)(e.resourceId)}))},[t,e.resourceType,e.resourceId]),p=[];return(e.resourceType===v.vt.PLUGIN&&((0,h.Th)(e.plugin,o,s)&&r.loaded&&p.push(A({pluginId:e.plugin.plugin_id,preferences:r})),u&&p.push(u)),p.push({displayText:(0,c.t)("universal_insert.copy_link"),callback:m}),n)?a?i.createElement(U,{parentRect:null==n?void 0:n.data.targetRect,items:p,autoHeight:!0,minWidth:u?220:void 0}):i.createElement(U,{parentRect:null==n?void 0:n.data.targetRect,lean:"left",minWidth:64,items:p}):null}let S="DROPDOWN_TYPE_SAVED_AND_RECENT_ACTIONS_DROPDOWN";function x(e){let t=(0,g.U)(),n=(0,w.VR)(),l=(0,I.ks)(),a=(0,f.sZ)(),r=(0,_.ll)(),o=D({plugin:e.plugin}),s=[];return(s.push({displayText:(0,c.t)("universal_insert.view_details"),callback:e.viewResource}),l&&((0,h.Th)(e.plugin,a,r)&&n.loaded&&s.push(A({pluginId:e.plugin.plugin_id,preferences:n})),o&&s.push(o)),t)?l?i.createElement(U,{parentRect:null==t?void 0:t.data.targetRect,lean:"left",minWidth:64,items:s,autoHeight:!0}):i.createElement(U,{parentRect:null==t?void 0:t.data.targetRect,lean:"left",minWidth:64,items:s}):null}let L="DROPDOWN_TYPE_PLUGIN_USER_OPTIONS_DROPDOWN";function M(e){var t;if(!e.localResource&&!e.publishedResource)throw Error("Either localResource or publishedResource is required");let n=(0,I.ks)(),a=(0,l.wA)(),r=(0,g.U)(),o=Object.values((0,_.$1)()).find(t=>{var n;return t.plugin_id===(null==(n=e.publishedResource)?void 0:n.id)}),d=(0,w.VR)(),u=D({plugin:e.publishedResource?(0,h.uF)(e.publishedResource):null}),p=e.localResource||o,f=(0,_.B7)(p?p.plugin_id:e.publishedResource.id),v=(0,_.Ud)(p?p.plugin_id:e.publishedResource.id),b=e.publishedResource||f||v,N=!!(null==b?void 0:b.versions[b.current_plugin_version_id]),T=b?b.is_widget:null==p?void 0:p.manifest.containsWidget,y=(0,E.LR)(),R=(0,m.NV)(p,b),k=(0,m.OX)(b),P=(0,m.x2)(p,b,y),O=(0,m.qu)(p),S=(0,m.qi)(N,()=>{p&&a(s.qR(null==p?void 0:p.localFileId))});if(!r||!r.data.targetRect)return null;let x=[];(p&&!p.error||b)&&x.push(R),N&&e.viewResource&&x.push({displayText:(0,c.t)("universal_insert.view_details"),callback:e.viewResource}),N&&x.push(P),p&&(null==(t=p.error)?void 0:t.type)!==C.ho.LOAD&&x.push(O),p||x.push({displayText:(0,c.t)("universal_insert.locate_local_version"),callback:()=>{s.JZ({resourceType:T?"widget":"plugin"})}});let L=[];b&&N&&d.loaded&&n&&L.push(A({pluginId:b.id,preferences:d})),N&&u&&L.push(u);let M=[];p&&M.push(S),k&&M.push(k);let F=x.some(Boolean)&&(M.some(Boolean)||L.some(Boolean))&&{displayText:"",separator:!0},B=M.some(Boolean)&&L.some(Boolean)&&{displayText:"",separator:!0};return i.createElement(U,{parentRect:r.data.targetRect,lean:"left",minWidth:u?220:120,rootAndSubmenuMaxWidth:u?void 0:190,disableDropdownScrollContainer:!0,hidePointWhenContentOffScreen:!0,dataTestId:"developmentResourceOptionDropdown",items:[...x,F,...L,B,...M].filter(e=>!!e)})}let F="DROPDOWN_TYPE_DEVELOPMENT_RESOURCE_OPTIONS_DROPDOWN";function U(e){let t=(0,l.wA)();return i.createElement(y.j,{...e,dispatch:t,showPoint:!0,type:R.it.DEFAULT,onSelectItem:e=>{e.callback&&e.callback("",null,t)}})}},308466:(e,t,n)=>{let i;n.d(t,{X8:()=>S,$c:()=>D});var l=n(411855),a=n(188507),r=n(629019),o=n.n(r),c=n(159849),s=n(487644),d=n(959875),u=n(402791),m=n(922990),_=n(355319),p=n(820746),E=n(884096),g=n(983245),f=n(965528),h=n(165077),v=n(22310),C=n(21122),b=n(482402),w=n(916949),N=n(206936),T=n(428748),I=n(676083),y=n(98140),R=n(757358),k=n(102677),P=n(221033),A=n(875531),D=((i=D||{}).DESIGN="FILE_CREATION_DROPDOWN_DESIGN",i.WHITEBOARD="FILE_CREATION_DROPDOWN_WHITEBOARD",i.DESKTOP_NEW_TAB="FILE_CREATION_DROPDOWN_DESKTOP_NEW_TAB",i);let O={FILE_CREATION_DROPDOWN_DESIGN:"file_creation_dropdown--newDesignFileDropdown--6yoKF file_creation_dropdown--newFileToolbarDropdown--7cOhM",FILE_CREATION_DROPDOWN_WHITEBOARD:"file_creation_dropdown--newWhiteboardFileDropdown--mIejm file_creation_dropdown--newFileToolbarDropdown--7cOhM",FILE_CREATION_DROPDOWN_DESKTOP_NEW_TAB:"file_creation_dropdown--newFileDropdown--lq76d file_creation_dropdown--newFileToolbarDropdown--7cOhM"};function S({buttonText:e,dataTestId:t,dropdownType:n,teamsWithEditableProjects:i,hideOnDesktop:r,hideOnMobile:s,onSelectOverride:m}){var _;let p=(0,a.wA)(),E=[{displayText:(0,u.t)("file_browser.tool_bar.file_creation_dropdown_display_text"),preventDismissOnSelected:!0,render:()=>l.createElement(x,{teamsWithEditableProjects:i,dropdownType:n,onSelectOverride:m,dispatch:p})}],f=(0,a.d4)((0,w.E)(n)),v=l.useRef(null),C=O[n],b="FILE_CREATION_DROPDOWN_DESKTOP_NEW_TAB"===n;return l.createElement(l.Fragment,null,l.createElement(k.g,{buttonClassName:o()(d.cx.flex.itemsCenter.justifyCenter.$,"file_creation_dropdown--newFileToolbarDropdown--7cOhM",C,{"file_creation_dropdown--hideOnDesktop--Wz3cb":r,"file_creation_dropdown--hideOnMobile--dDtxr":s}),dataTestId:t,isShowingDropdown:!1,isOnBrandColor:!b,onClick:()=>{f||p(g.j7({type:n}))},ref:v},e),v.current&&f&&l.createElement(h.fu,{name:"File Creation Dropdown Display",properties:{fileCreationDefaultsDropdownType:n}},l.createElement("div",{className:d.cx.if(!b,d.cx.fixed).$},l.createElement(y.j,{showPoint:!0,lean:"center",type:R.it.MATCH_BACKGROUND,rootAndSubmenuMaxWidth:224,minWidth:224,autoHeight:!0,onSelectItem:c.lQ,hidePointWhenContentOffScreen:!0,items:E,parentRect:null==(_=v.current)?void 0:_.getBoundingClientRect(),dispatch:p}))))}function x({teamsWithEditableProjects:e,dropdownType:t,onSelectOverride:n,dispatch:i}){let a=(0,P.Bq)(),r=(0,C.TA)(),[o,c]=l.useState(!1),h=(e,n)=>{i(g.oB()),i(f.zE({state:a,editorType:L[t],team:e?(0,I.Z_)(e):void 0,folderId:n,from:T.f6.FILE_BROWSER_TOPBAR_RECENTS,openNewFileIn:T.ai.SAME_TAB,callback:e=>{(0,v.Cu)({userId:r,fileKey:e},M[t])},inFileCreationDefaultsExp:!0}))},b=l.useMemo(()=>o?e:e.slice(0,3),[o,e]);return l.createElement(l.Fragment,null,l.createElement("div",{className:"file_creation_dropdown--dropdownHeader--7xo8- text--fontPos11--2LvXf text--_fontBase--QdLsd"},"FILE_CREATION_DROPDOWN_DESIGN"===t?l.createElement(u.Tx,{id:"file_browser.tool_bar.create_new_design_file_in"}):"FILE_CREATION_DROPDOWN_WHITEBOARD"===t?l.createElement(u.Tx,{id:"file_browser.tool_bar.create_new_figjam_board_in"}):l.createElement(u.Tx,{id:"desktop_new_tab.create_new_file_in"})),b.map(e=>{if(e.projects&&e.projects[0]){let a=e.projects[0],r=(0,I.Z_)(e),o=(0,N.rR)(r,{type:N.sK.ADD_FIGJAM_FILE}),c=(0,N.rR)(r,{type:N.sK.ADD_DESIGN_FILE}),s="FILE_CREATION_DROPDOWN_DESIGN"===t?!c:"FILE_CREATION_DROPDOWN_WHITEBOARD"===t&&!o,u=n?()=>{n({team:e,project:a}),i(g.oB())}:()=>h(e,a.id);return l.createElement(F,{key:e.id,dropdownType:t,folderId:e.projects[0].id,icon:l.createElement("div",{className:d.cx.h16.w16.flex.itemsCenter.justifyCenter.$},l.createElement(m.nl,{size:{imgSize:m.Pf.SMALL,fallbackSize:m.Pf.XSMALL},fallbackDisplay:_.U.HIDDEN,team:{id:e.id}})),text:l.createElement(E.E,{truncate:!0},e.name," / ",e.projects[0].path),onClick:u,isRestricted:s})}}),!o&&e.length>3&&l.createElement("div",{className:"file_creation_dropdown--seeMoreProjects--8dwNL"},l.createElement(F,{dropdownType:t,icon:l.createElement(s.B,{svg:A.A}),text:l.createElement(u.Tx,{id:"file_browser.tool_bar.see_all_editable_projects",numberOfEditableProjects:e.length}),onClick:()=>c(!o)})),l.createElement("div",{className:"file_creation_dropdown--horizontalDivider--orhs0"}),l.createElement("div",null,l.createElement(F,{dropdownType:t,icon:l.createElement(p.In,{icon:"page-16"}),text:l.createElement(E.E,{i18nId:"sidebar.drafts",truncate:!0}),onClick:n?()=>{n(null),i(g.oB())}:()=>h()})))}let L={FILE_CREATION_DROPDOWN_DESIGN:b._Y.DESIGN,FILE_CREATION_DROPDOWN_WHITEBOARD:b._Y.WHITEBOARD,FILE_CREATION_DROPDOWN_DESKTOP_NEW_TAB:b._Y.DESIGN},M={FILE_CREATION_DROPDOWN_DESIGN:"toolbar_design_created",FILE_CREATION_DROPDOWN_WHITEBOARD:"toolbar_figjam_created",FILE_CREATION_DROPDOWN_DESKTOP_NEW_TAB:"toolbar_file_created"};function F({icon:e,text:t,onClick:n,isRestricted:i}){return l.createElement("div",{role:"link",className:"file_creation_dropdown--projectCreationListOption--8eCLi",tabIndex:0,onClick:n},l.createElement("div",{className:d.cx.flex.flexRow.wFull.overflowHidden.$},l.createElement("div",{className:d.cx.flex.itemsCenter.flexRow.gap12.wFull.overflowHidden.$},l.createElement("div",{className:d.cx.flex.w16.h16.itemsCenter.alignCenter.justifyCenter.flexShrink0.$},e),l.createElement("p",{className:d.cx.flex.flexRow.overflowHidden.flexGrow1.itemsCenter.$},t))),i&&l.createElement(p.In,{icon:"info-32"}))}},904779:(e,t,n)=>{n.d(t,{R:()=>a});var i=n(411855),l=n(579038);class a extends i.PureComponent{constructor(){super(...arguments),this.textContainerRef=i.createRef(),this.getFittingText=()=>{if(!this.textContainerRef.current)return null;let e=this.textContainerRef.current,t=e.getBoundingClientRect().width,{text:n}=this.props,i=document.createElement("p");if(i.className=this.props.className||"",i.setAttribute("style",`
      display: inline;
      white-space: nowrap;
    `),e.appendChild(i),i.innerText=n,i.getBoundingClientRect().width<=t)return e.removeChild(i),n;let l="";for(let e=0;e<n.length;e+=1){let a=`...${n.slice(n.length-e)}`;i.innerText=a;let{width:r}=i.getBoundingClientRect();if(r>t)break;l=a}return e.removeChild(i),l}}componentDidMount(){this.forceUpdate()}render(){let e=this.getFittingText();return i.createElement("div",{ref:this.textContainerRef,style:{width:this.props.maxWidth?`${this.props.maxWidth}px`:"100%"},"data-tooltip-type":this.props.text!==e?l.Ib.TEXT:void 0,"data-tooltip":this.props.text!==e?this.props.text:void 0,"aria-label":this.props.text},i.createElement("p",{className:this.props.className},e))}}a.displayName="FrontTruncatedText"},824335:(e,t,n)=>{n.d(t,{To:()=>o,hK:()=>r});var i=n(402791);function l(){return[{text:(0,i.t)("help_widget.collective_upsells.fullscreen.unlimited_creation"),id:"unlimited_creation"},{text:(0,i.t)("help_widget.collective_upsells.fullscreen.shared_design_systems"),id:"shared_design_systems"},{text:(0,i.t)("help_widget.collective_upsells.fullscreen.advanced_prototyping"),id:"advanced_prototyping"},{text:(0,i.t)("help_widget.collective_upsells.fullscreen.enhanced_privacy"),id:"enhanced_privacy"},{text:(0,i.t)("help_widget.collective_upsells.fullscreen.decision_making_tools"),id:"decision_making_tools"}]}function a(){return{unlimited_creation:[{headerText:(0,i.t)("help_widget.collective_upsells.fullscreen.card.unlimited_creation.better_organization.title"),descriptionText:(0,i.t)("help_widget.collective_upsells.fullscreen.card.unlimited_creation.better_organization.description"),imgSrc:"https://static.figma.com/uploads/c342f4d4d591928504af7cfabbb30556617d9acb",url:"https://help.figma.com/hc/articles/1500005554982-Guide-to-files-and-projects#Projects",loadingColor:"var(--color-bg-brand-tertiary)"},{headerText:(0,i.t)("help_widget.collective_upsells.fullscreen.card.unlimited_creation.unlimited_files.title"),descriptionText:(0,i.t)("help_widget.collective_upsells.fullscreen.card.unlimited_creation.unlimited_files.description"),imgSrc:"https://static.figma.com/uploads/fd06e0abcc52d324ff782bcfce9c21844ab0a946",url:"https://help.figma.com/hc/articles/1500005554982-Guide-to-files-and-projects#files",loadingColor:"var(--color-bg-brand-tertiary)"},{headerText:(0,i.t)("help_widget.collective_upsells.fullscreen.card.unlimited_creation.unlimited_boards.title"),descriptionText:(0,i.t)("help_widget.collective_upsells.fullscreen.card.unlimited_creation.unlimited_boards.description"),imgSrc:"https://static.figma.com/uploads/f2009c194bd4ada5fcef6c54ea0063d7daa3627f",url:"https://help.figma.com/hc/articles/15300412458647-Explore-FigJam-files",loadingColor:"var(--color-bg-component-tertiary)"},{headerText:(0,i.t)("help_widget.collective_upsells.fullscreen.card.unlimited_creation.version_history.title"),descriptionText:(0,i.t)("help_widget.collective_upsells.fullscreen.card.unlimited_creation.version_history.description"),imgSrc:"https://static.figma.com/uploads/68ef770df03dec9fa3e69f2b40df9eec6d4e6166",url:"https://help.figma.com/hc/articles/360038006754-View-a-file-s-version-history",loadingColor:"var(--color-bg-brand-tertiary)"},{headerText:(0,i.t)("help_widget.collective_upsells.fullscreen.card.unlimited_creation.unlimited_pages.title"),descriptionText:(0,i.t)("help_widget.collective_upsells.fullscreen.card.unlimited_creation.unlimited_pages.description"),imgSrc:"https://static.figma.com/uploads/91999ee4abb04a50873c16d23383f724e24b13ed",url:"https://help.figma.com/hc/articles/360038511293-Create-and-manage-pages",loadingColor:"var(--color-bg-brand-tertiary)"}],shared_design_systems:[{headerText:(0,i.t)("help_widget.collective_upsells.fullscreen.card.shared_design_systems.component_libraries.title"),descriptionText:(0,i.t)("help_widget.collective_upsells.fullscreen.card.shared_design_systems.component_libraries.description"),imgSrc:"https://static.figma.com/uploads/a645a186fea60ff15fd9e1878bd52ceaae425a57",url:"https://help.figma.com/hc/articles/360025508373-Publish-a-library",loadingColor:"var(--color-bg-warning-tertiary)"},{headerText:(0,i.t)("help_widget.collective_upsells.fullscreen.card.shared_design_systems.variable_modes.title"),descriptionText:(0,i.t)("help_widget.collective_upsells.fullscreen.card.shared_design_systems.variable_modes.description"),imgSrc:"https://static.figma.com/uploads/1c2427045d0b2ce56265271afb85de51b7742364",url:"https://help.figma.com/hc/articles/15343816063383-Modes-for-variables",loadingColor:"var(--color-bg-warning-tertiary)"},{headerText:(0,i.t)("help_widget.collective_upsells.fullscreen.card.shared_design_systems.variables_in_prototyping.title"),descriptionText:(0,i.t)("help_widget.collective_upsells.fullscreen.card.shared_design_systems.variables_in_prototyping.description"),imgSrc:"https://static.figma.com/uploads/13ec0b16486b7a7882491385ef8dff27b4046be7",url:"https://help.figma.com/hc/articles/14506587589399-Use-variables-in-prototypes",loadingColor:"var(--color-bg-warning-tertiary)"}],advanced_prototyping:[{headerText:(0,i.t)("help_widget.collective_upsells.fullscreen.card.advanced_prototyping.expressions.title"),descriptionText:(0,i.t)("help_widget.collective_upsells.fullscreen.card.advanced_prototyping.expressions.description"),imgSrc:"https://static.figma.com/uploads/8aaf35d51fab3b28f40abbc1cca114bad73c6104",url:"https://help.figma.com/hc/articles/15253194385943-Use-expressions-in-prototypes",loadingColor:"var(--ramp-pink-100-light)"},{headerText:(0,i.t)("help_widget.collective_upsells.fullscreen.card.advanced_prototyping.conditionals.title"),descriptionText:(0,i.t)("help_widget.collective_upsells.fullscreen.card.advanced_prototyping.conditionals.description"),imgSrc:"https://static.figma.com/uploads/d70fae15738cd8f3e03df3997823c315ef4e9d9b",url:"https://help.figma.com/hc/articles/15253220891799-Multiple-actions-and-conditionals#h_01H91GHXRHGN8K801ZZCPV99FA",loadingColor:"var(--ramp-pink-100-light)"},{headerText:(0,i.t)("help_widget.collective_upsells.fullscreen.card.advanced_prototyping.multiple_actions.title"),descriptionText:(0,i.t)("help_widget.collective_upsells.fullscreen.card.advanced_prototyping.multiple_actions.description"),imgSrc:"https://static.figma.com/uploads/eed92994038b1d31ae0a6b55518a5f93bb8494c6",url:"https://help.figma.com/hc/articles/15253220891799-Multiple-actions-and-conditionals#h_01H91GHXRG38YKPARR7J436DTG",loadingColor:"var(--ramp-pink-100-light)"},{headerText:(0,i.t)("help_widget.collective_upsells.fullscreen.card.advanced_prototyping.video_in_prototypes.title"),descriptionText:(0,i.t)("help_widget.collective_upsells.fullscreen.card.advanced_prototyping.video_in_prototypes.description"),imgSrc:"https://static.figma.com/uploads/72d301c7668fe485cfb7bb82e2a2e6d7cdcbaf82",url:"https://help.figma.com/hc/articles/8878274530455-Use-videos-in-prototypes",loadingColor:"var(--ramp-pink-100-light)"}],enhanced_privacy:[{headerText:(0,i.t)("help_widget.collective_upsells.fullscreen.card.enhanced_privacy.password_protection.title"),descriptionText:(0,i.t)("help_widget.collective_upsells.fullscreen.card.enhanced_privacy.password_protection.description"),imgSrc:"https://static.figma.com/uploads/f0f0b3f8cdca6efd146423bd62bd6d28938bde97",url:"https://help.figma.com/hc/articles/5726720100247-Add-password-protection-to-files",loadingColor:"var(--ramp-pink-100-light)"},{headerText:(0,i.t)("help_widget.collective_upsells.fullscreen.card.enhanced_privacy.private_projects.title"),descriptionText:(0,i.t)("help_widget.collective_upsells.fullscreen.card.enhanced_privacy.private_projects.description"),imgSrc:"https://static.figma.com/uploads/373e72d04adfa59a21741a98e48dcbcbf706cd34",url:"https://help.figma.com/hc/articles/13839214115607-Professional-plan-permissions#projects",loadingColor:"var(--ramp-pink-100-light)"},{headerText:(0,i.t)("help_widget.collective_upsells.fullscreen.card.enhanced_privacy.prototype_only_sharing.title"),descriptionText:(0,i.t)("help_widget.collective_upsells.fullscreen.card.enhanced_privacy.prototype_only_sharing.description"),imgSrc:"https://static.figma.com/uploads/abfb7962b2a669d9bddbc39ef9ce2f11d858fcc7",url:"https://help.figma.com/hc/articles/360040531773",loadingColor:"var(--ramp-pink-100-light)"},{headerText:(0,i.t)("help_widget.collective_upsells.fullscreen.card.enhanced_privacy.project_transfer.title"),descriptionText:(0,i.t)("help_widget.collective_upsells.fullscreen.card.enhanced_privacy.project_transfer.description"),imgSrc:"https://static.figma.com/uploads/a093bcd98a4261ab49ea734a6d6284cfc4ace6b9",url:"https://help.figma.com/hc/articles/10250387712407-Transfer-a-project-or-team-to-a-different-company",loadingColor:"var(--ramp-pink-100-light)"}],decision_making_tools:[{headerText:(0,i.t)("help_widget.collective_upsells.fullscreen.card.decision_making_tools.audio_conversations.title"),descriptionText:(0,i.t)("help_widget.collective_upsells.fullscreen.card.decision_making_tools.audio_conversations.description"),imgSrc:"https://static.figma.com/uploads/42dacd2ef787d922ed8a0ab58dcfe3e57df42eb0",url:"https://help.figma.com/hc/articles/1500004414622-Use-audio-to-chat-with-your-team",loadingColor:"var(--ramp-pale_blue-200-light)"},{headerText:(0,i.t)("help_widget.collective_upsells.fullscreen.card.decision_making_tools.voting.title"),descriptionText:(0,i.t)("help_widget.collective_upsells.fullscreen.card.decision_making_tools.voting.description"),imgSrc:"https://static.figma.com/uploads/9c0d1a0fdad559ef908062c6cbfa4703859b882e",url:"https://help.figma.com/hc/articles/9359912208663-Run-voting-sessions-in-FigJam",loadingColor:"var(--ramp-pale_blue-200-light)"},{headerText:(0,i.t)("help_widget.collective_upsells.fullscreen.card.decision_making_tools.open_figjam_sessions.title"),descriptionText:(0,i.t)("help_widget.collective_upsells.fullscreen.card.decision_making_tools.open_figjam_sessions.description"),imgSrc:"https://static.figma.com/uploads/7b5794979bea63a4b3588a8da1ce3ebc94ee9dfc",url:"https://help.figma.com/hc/articles/4410786053911-Invite-visitors-to-an-open-session",loadingColor:"var(--ramp-pale_blue-200-light)"}]}}function r(){return{panelTabs:l(),contents:a(),panelTitle:(0,i.t)("help_widget.collective_upsells.fullscreen.panel_tab_header"),contentTitle:(0,i.t)("help_widget.collective_upsells.fullscreen.content_title"),ctaPrimaryText:(0,i.t)("help_widget.collective_upsells.fullscreen.upgrade_btn"),ctaSecondaryText:(0,i.t)("help_widget.collective_upsells.fullscreen.compare_plans")}}function o(){return{panelTabs:l(),contents:a(),panelTitle:(0,i.t)("pro_onboarding.pro_feature_modal.as_a_professional_team_you_get"),ctaPrimaryText:(0,i.t)("pro_onboarding.pro_feature_modal.got_it"),ctaSecondaryText:(0,i.t)("pro_onboarding.pro_feature_modal.compare_plans")}}},388936:(e,t,n)=>{let i;n.d(t,{n:()=>T,I:()=>C});var l=n(411855),a=n(188507),r=n(629019),o=n.n(r),c=n(711117),s=n(218017),d=n(959875),u=n(162122),m=n(563015),_=n(884096),p=n(820657),E=n(165077),g=n(543841),f=n(950187),h=n(207531),v=n(905618),C=((i=C||{})[i.SMALL=0]="SMALL",i[i.LARGE=1]="LARGE",i);function b({headerText:e,descriptionText:t,imgSrc:n,loadingColor:i}){return l.createElement(u.Y,{direction:"vertical",verticalAlignItems:"start",strokeColor:"default",strokeWidth:1,cornerRadius:6,spacing:0,height:"fill-parent"},l.createElement(l.Suspense,{fallback:l.createElement("div",{className:"fullscreen_help_upsells_modal_base--cardPlaceholder--j3U6P",style:{backgroundColor:i}})},l.createElement("img",{alt:e,className:"fullscreen_help_upsells_modal_base--cardImage--HNMiP",src:n,width:189,height:146})),l.createElement("div",{className:d.cx.p12.pl10.pr10.flex.flexColumn.gap2.$},l.createElement(_.E,{fontSize:13,fontWeight:"medium",color:"default"},e),l.createElement("div",{className:d.cx.minH32.$},l.createElement(_.E,{fontSize:11,color:"secondary"},t))))}function w({isClickable:e,url:t,...n}){return e&&void 0!==t?l.createElement(E.L0,{href:t,target:"_blank",className:"fullscreen_help_upsells_modal_base--clickableCard--056mH",trackingProperties:{card:n.headerText}},l.createElement(b,{...n})):l.createElement(b,{...n})}function N(){let e=(0,g.LN)(),t=new g.vr(e);return l.createElement(u.Y,{padding:14,direction:"vertical",verticalAlignItems:"end"},l.createElement("div",{className:"fullscreen_help_upsells_modal_base--priceContainer--XWuz1"},l.createElement("div",{className:d.cx.wHalf.flex.flexColumn.gap8.$},l.createElement(_.E,{i18nId:"help_widget.collective_upsells.fullscreen.price_title.figma_design",color:"design",fontSize:11,fontWeight:"semi-bold"}),l.createElement(_.E,{fontWeight:"semi-bold",fontSize:18},t.formatMoney((0,h.ok)(f.tY.ANNUAL,e)))),l.createElement("div",{className:"fullscreen_help_upsells_modal_base--priceContainerDivider--zsPMB"}),l.createElement("div",{className:d.cx.wHalf.flex.flexColumn.gap8.$},l.createElement(_.E,{i18nId:"help_widget.collective_upsells.fullscreen.price_title.figjam",color:"figjam",fontSize:11,fontWeight:"semi-bold"}),l.createElement(_.E,{fontWeight:"semi-bold",fontSize:18},t.formatMoney((0,h.hH)(f.tY.ANNUAL,e))))),l.createElement("div",{className:d.cx.p4.pt0.$},l.createElement(_.E,{i18nId:"help_widget.collective_upsells.fullscreen.price.disclaimer.seat_rename",color:"secondary",fontSize:11})))}function T({panelTabs:e,panelTitle:t,modalProps:n,contentTitle:i,contents:r,ctaPrimaryText:g,ctaSecondaryText:f,clickPrimaryBtn:h,clickSecondaryBtn:C,dismissModal:b,showPricing:T=!0,panelTitleSize:I=0,cardsClickable:y}){let[R,k]=(0,l.useState)(e[0].id),P=(0,a.wA)(),A=1===I?l.createElement("div",{className:d.cx.p16.pt14.pb36.$},l.createElement(_.E,{fontSize:18,fontWeight:"semi-bold"},t)):l.createElement("div",{className:d.cx.p16.pt14.pb4.$},l.createElement(_.E,{fontSize:13,color:"secondary"},t)),D=e.map(e=>l.createElement(E.jm,{role:"button",tabIndex:0,key:e.id,className:o()("fullscreen_help_upsells_modal_base--panelTabs--WjAUp",R===e.id&&"fullscreen_help_upsells_modal_base--panelTabsActive--cM4NL"),onClick:()=>{k(e.id)},trackingProperties:{tab:e.id,prevTab:R}},l.createElement(_.E,{fontSize:13},e.text))),O=r[R].map((e,t)=>l.createElement(w,{key:R+e.headerText+t,isClickable:y,...e}));return l.createElement(E.fu,{name:"FullscreenHelpUpsellsModalBase"},l.createElement(v.Nb,{size:900,className:"fullscreen_help_upsells_modal_base--largeModal--8j2D0",...n,hide:b},l.createElement(c.P.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5}},l.createElement(u.Y,{verticalAlignItems:"start",height:604,spacing:0},l.createElement(u.Y,{direction:"vertical",width:230,strokeWidth:{right:1},padding:0,spacing:0,strokeColor:"default",height:"fill-parent",verticalAlignItems:"start"},l.createElement(u.M,{minSize:16}),l.createElement(u.Y,{direction:"vertical",height:"fill-parent",spacing:0},t&&A,D),T&&l.createElement(N,null)),l.createElement(u.Y,{direction:"vertical",height:"fill-parent",spacing:0},l.createElement("div",{className:d.cx.pl32.pt24.pb20.$},i&&l.createElement(_.E,{fontSize:20,fontWeight:"semi-bold"},i),l.createElement(s.s_,{customStyle:{right:"8px",top:"8px"},dispatch:P,onClose:b,trackingProperties:{trackingDescriptor:p.c.CLOSE}})),l.createElement("div",{className:d.cx.wFull.hFull.overflowAuto.$},l.createElement("div",{className:d.cx.pl32.pb24.$},l.createElement(u.Y,{spacing:16,verticalAlignItems:"start",direction:"vertical"},l.createElement("div",{className:"fullscreen_help_upsells_modal_base--cardGrid--Yss71"},O)))),l.createElement(u.Y,{height:64,padding:16,horizontalAlignItems:"end",strokeColor:"default",strokeWidth:{top:1}},l.createElement(m.V,{onClick:C},f),l.createElement(m.V,{variant:"primary",onClick:h},g)))))))}},969856:(e,t,n)=>{n.d(t,{A:()=>c});var i=n(411855),l=n(629019),a=n.n(l),r=n(835293),o=n(959875);function c(e){let t=i.useRef(null),n=i.useRef(null);i.useEffect(()=>{if(t.current&&!n.current&&!(0,r.Lg)()){let i=document.getElementById(e.loadingElementId);n.current=i.cloneNode(!0)??null,t.current.appendChild(n.current)}},[e.loadingElementId,t]);let l={animationDelay:`${e.delay??0}ms`};return i.createElement(i.Fragment,null,i.createElement("div",{ref:t,className:a()(e.loadingElementClassName,o.cx.eventsNone.absolute.top0.left0.right0.bottom0.overflowHidden.opacity1.$,{"loading_page--fadeOut--Ho-om":e.loaded}),style:l}),e.loaded&&e.children)}}}]);

//# debugId=bdfdd1cb-cc56-537b-94de-f920b4260021

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/305304d211b22df3c1e4d37eef1cab3b70e4dcef/574-f973f2e7cfa635b7.min.js.map